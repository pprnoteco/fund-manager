!function(t,e){function n(){}n.prototype.urlRoot=void 0,n.prototype.url=function(t){return t?this.urlRoot+t:this.urlRoot};var i=new n;i.formats={currency:function(t){return t&&_.isNumber(t)?(t=t.toFixed(2).toString(),"$ "+(t=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))):"$ -"}},t.App=i}(window,Backbone),function(t,e){var n=e.Model.extend({urlRoot:void 0,serverNode:void 0,url:function(e,n){return e=e?this.urlRoot+"/"+e:this.urlRoot,t.url(e,n)},format:function(t){var e=this.get(t),n=this.formats[t];return n&&(e=n(e,this)),e},formats:{},validate:function(){},prepare:function(){return this.attributes}});t.Model=n}(App,Backbone),function(t,e,n){var i=e.Collection.extend({model:t.Model,order:function(t,e){console.log(t,e);var n=this.clone();return t?(e||(e="asc"),n.comparator=t,n.sort(),"asc"!==e&&n.models.reverse(),n):n},limit:function(t,e){var n=this.length;if(e||(e=1),!t||!n||t>n)return this.models;var i=t*(e-1),o=i+t;return this.slice(i,o)},matcher:function(t,e){if(t&&e)return t=t.toString().toLowerCase(),(e=e.toString().toLowerCase()).indexOf(t)>=0},search:function(t,e){var i=this.clone();if(!i.length||!t)return i;var o=this.matcher;return i.reset(i.filter(function(i){return e&&e.length||(e=n.keys(i.attributes)),!n.every(e,function(e){return!o(t,i.get(e))})})),i},toCsv:function(){var t;return this.each(function(e){t||(t=[],n.each(e.keys())),row=[],n.each(attrs,function(t){row.push(e.get(t))}),rows.push(n.formatCsvRow(row))}),rows.join("\n")}});t.Collection=i}(App,Backbone,_),function(t,e){var n=e.View.extend({alert:void 0,alertElement:void 0,_loading:!1,constructor:function(t){e.View.call(this,t),t.alertElement&&(this.alertElement=t.alertElement),this.initAlert()},initAlert:function(){var e=new(0,t.Alert)({el:document.getElementById(this.alertElement)});this.alert=e},loadingStateOn:function(){},loadingStateOff:function(){},isLoading:function(){return!!this._loading},loading:function(t){this._loading;this._loading=!!t,this._loading?this.loadingStateOn():this.loadingStateOff()},reset:function(t){this.model=t,this.render()}});t.View=n}(App,Backbone),function(t,e){var n=t.View,i=t.Model,o=t.Collection;e.mixin({isElement:function(t){return!!t&&("object"==typeof HTMLElement?t instanceof HTMLElement:t.nodeType>0&&"string"==typeof t.nodeName)},isModel:function(t){return t&&t instanceof i},isCollection:function(t){return t&&t instanceof o},isView:function(t){return t&&t instanceof n},formatCsvRow:function(t){var n=[];return e.each(t,function(t){t&&t.indexOf&&t.indexOf(",")>=0?n.push('"'+t+'"'):n.push(t)}),n.join(",")},forceDownload:function(t,e,n){var i=document.createElement("a");i.href=URL.createObjectURL(new Blob([t],{type:n})),i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i)}})}(App,_),function(t,e,n){var i={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.sync=function(o,a,s){s||(s={}),n.defaults(s,{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var c={type:i[o],dataType:"json"},l="create"===o||"update"===o||"patch"===o,d=s.error,r=s.success,u=s.context;if(o="patch"==o?"update":o,s.url||(c.url=t.url(a.urlRoot),c.url+="read"==o?"":"/"+o,c.url+=n.isCollection(a)||"create"==o?"":"/"+a.id,c.url+=".json"),null==s.data&&a&&l){var f=a.prepare();f instanceof FormData?(c.async=!1,c.cache=!1,c.data=f,c.contentType=!1,c.processData=!1,c.enctype="multipart/form-data"):(c.contentType="application/json",c.data=JSON.stringify(f))}"GET"===c.type||s.emulateJSON||(c.processData=!1),s.error=function(t,e,n){s.textStatus=e,s.errorThrown=n,d&&d.call(u,t,e,n)},s.success=function(t,e,n){t&&t.error?(s.textStatus=t.error,s.errorThrown=t,s.validationError=t.error,d&&d.call(u,n,t.error,t)):r&&r.call(u,t)};var m=s.xhr=e.ajax(n.extend(c,s));return a.trigger("request",a,m,s),m}}(App,Backbone,_),function(t){var e=Backbone.View.extend({initialize:function(t){t||(t={}),this.options=t,this.initElement()},initElement:function(t){var e=this.$el.find('[data-element="message"]');e.length>0?this.messageElement=e[0]:this.messageElement=this.$el[0]},render:function(){var t=this.options.message;t?(this.messageElement.innerHTML=t,this.show()):(this.messageElement.innerHTML="",this.hide())},set:function(t){this.options.message=t,this.render()},clear:function(){this.options.message=void 0,this.render()},show:function(t){this.$el.removeClass("d-none")},hide:function(){this.$el.addClass("d-none")}});t.Alert=e}(App),function(t){var e=t.View.extend({formats:{},render:function(){this.model&&this.populate()},populate:function(){var t,e,n,i=this.model,o=this.formats;this.$el.find("[data-field]").each(function(){t=this.getAttribute("data-field"),e=o[t],n=i.get(t),e&&(n=e.call(i,n)),this.innerHTML="",_.isElement(n)?this.appendChild(n):this.innerHTML=n})}});e.formats={date:function(t){return t?(t=t.toString().replace("T00:00:00+00:00",""),moment(t).format("MM/DD/YYYY")):"N/A"},currency:function(t){return t&&_.isNumber(t)?(t=t.toFixed(2).toString(),"$ "+(t=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))):"$ -"},createdBy:function(t){return t?t.username.split("@")[0]:"Anonymous"},modifiedBy:function(t){return t?t.username.split("@")[0]:"Anonymous"}},t.Profile=e}(App),function(t){var e=t.View.extend({render:function(){this.populate()},populate:function(){var t,e,n,i=this.$el,o=this.model;o&&i.find("[data-field]").each(function(i){if(t=this.getAttribute("data-field"),o.has(t)){if(e=o.get(t),n=$(this),"date"==this.type){if(!e)return;e=e.toString().split("T00:00:00+00:00")[0],e=moment(e).format("YYYY-MM-DD")}n.val(e)}})},toModel:function(){var t=this.$el,e=this.model;if(e)return t.find("[data-field]").each(function(t){var n=this.getAttribute("data-field"),i=$(this).val();e.set(n,i)}),e},submit:function(){var t=this,e=this.toModel();e.isValid()?(this.loading(!0),e.save(e.attributes,{validate:!1,success:function(e,n,i){t.loading(!1),n.error?t.trigger("error",n.error):t.trigger("success",e)},error:function(e,n,i,o){var a="An unexpected error occured";i&&i.validationError&&(a=i.validationError),t.loading(!1),t.trigger("error",a)}})):this.trigger("error",e.validationError)}});t.Form=e}(App),function(t){var e=t.View,n=e.extend({constructor:function(t){e.call(this,t),this.addBootstrapEvents()},addBootstrapEvents:function(){var t=this;this.$el.on("show.bs.modal",function(e){t.trigger("show",e)}),this.$el.on("shown.bs.modal",function(e){t.trigger("shown",e)}),this.$el.on("hide.bs.modal",function(e){t.trigger("hide",e)}),this.$el.on("hidden.bs.modal",function(e){t.trigger("hidden",e)})},open:function(){$(this.el).modal("show")},close:function(){$(this.el).modal("hide")},handleUpdate:function(){$(this.el).modal("handleUpdate")},swap:function(t){this.once("hidden",function(){t.once("shown",function(){t.handleUpdate()}),t.open()}),this.close()}});t.Modal=n}(App),function(t){var e=t.View.extend({reset:function(t){this.model=t,this.render()}});t.Toolbar=e}(App),function(t){var e=t.View.extend({value:function(){return this.$el.val()},update:function(t){this.$el.val(t)},events:{input:"search"},search:function(){this.trigger("search",this.value())}});t.Searchbox=e}(App),function(t){var e=t.View.extend({pageNum:1,pageMax:1,pageLimit:10,initialize:function(){this.initElement()},initElement:function(){var t=this.$el,e=t.find('[data-action="prev"]'),n=t.find('[data-action="next"]'),i=t.find('[data-action="last"]'),o=t.find('[data-action="first"]'),a=t.find('[data-action="limit"]'),s=t.find('[data-label="page-num"]'),c=t.find('[data-label="page-max"]');this.$prev=e.parent(),this.$next=n.parent(),this.$last=i.parent(),this.$first=o.parent(),this.$limit=a,this.$pagenum=s,this.$pagemax=c},render:function(){var t=this.pageNum,e=this.pageMax;1==t?(this.$first.addClass("disabled"),this.$prev.addClass("disabled")):(this.$first.removeClass("disabled"),this.$prev.removeClass("disabled")),t==e?(this.$next.addClass("disabled"),this.$last.addClass("disabled")):(this.$next.removeClass("disabled"),this.$last.removeClass("disabled")),this.$pagenum[0].innerHTML=t,this.$pagemax[0].innerHTML=e},update:function(t,e,n){this.pageNum=t,this.pageMax=e,this.pageLimit=n,this.render()},events:{'click [data-action="first"]':"first",'click [data-action="prev"]':"prev",'click [data-action="next"]':"next",'click [data-action="last"]':"last",'change [data-action="limit"]':"limit"},first:function(t){t.preventDefault(),this.trigger("first")},prev:function(t){t.preventDefault(),this.trigger("prev")},next:function(t){t.preventDefault(),this.trigger("next")},last:function(t){t.preventDefault(),this.trigger("last")},limit:function(){this.trigger("limit",parseInt(this.$limit.val()))}});t.Pagination=e}(App),function(t,e){var n=t.View.extend({defaults:{page:1,limit:10,paginate:!0,searchable:!0,searchText:void 0,searchFields:void 0,selectable:!0,sortable:!0,sortOrder:"asc",sortField:"id",idAttribute:"id"},options:void 0,thead:void 0,tbody:void 0,tfoot:void 0,theadRow:void 0,columns:void 0,maxPage:1,selected:void 0,formats:{},emptyMessage:"No records found",initialize:function(t){var e=this.initOptions(t);this.initElement(),this.initColumns(),this.initRecords(),e.emptyMessage&&(this.emptyMessage=e.emptyMessage),e.searchable&&e.searchbox&&this.initSearchbox(),e.paginate&&e.pagination&&this.initPagination()},initOptions:function(t){var n=e.extend({},this.defaults,t);if(n.formats){var i=this.formats;e.each(n.formats,function(t,e){i[e]=t})}return this.options=n,n},initElement:function(){var t=this.el,e=t.tHead,n=t.tBodies[0],i=t.tFoot;e||(e=document.createElement("thead"),t.appendChild(e)),n||(n=document.createElement("tbody"),t.appendChild(n)),i||(i=document.createElement("tfoot"),t.appendChild(i));var o=e.rows[0];o||(tr=document.createElement("tr"),e.appendChild(tr)),this.thead=e,this.tbody=n,this.tfoot=i,this.theadRow=o},initColumns:function(){var t,n=[];e.each(this.theadRow.cells,function(e){t={field:void 0,title:void 0,visible:!0,cellClass:void 0,sortable:!0},e.hasAttribute("data-field")&&(t.field=e.getAttribute("data-field")),e.hasAttribute("data-title")?t.title=e.getAttribute("data-title"):t.title=e.innerHTML,e.hasAttribute("data-sortable")&&(t.sortable="true"==e.getAttribute("data-sortable")),e.hasAttribute("data-visible")&&(t.visible="true"==e.getAttribute("data-visible")),e.hasAttribute("data-cell-class")&&(t.cellClass=e.getAttribute("data-cell-class")),n.push(t)}),this.columns=n},initRecords:function(){var t=this;this.collection.on("update",function(){t.renderBody()})},initSearchbox:function(){var t=this;this.options.searchbox.on("search",function(e){t.search(e)})},initPagination:function(){var t=this,e=(this.options,this.options.pagination);e.on("limit",function(e){t.limit(e)}),e.on("first",function(){t.page(1)}),e.on("prev",function(){t.page(t.options.page-1)}),e.on("next",function(){t.page(t.options.page+1)}),e.on("last",function(){t.page(t.maxPage)})},render:function(){this.renderHead(),this.renderBody(),this.renderFoot()},renderHead:function(){var t,n=this.options,i=this.columns,o=this.theadRow;o.innerHTML="",e.each(i,function(e){if(e.visible){t=[];var i=document.createElement("th");i.innerHTML=e.title,i.setAttribute("data-field",e.field),e.cellClass&&t.push(e.cellClass),e.sortable&&(t.push("sortable"),n.sortField&&n.sortOrder&&n.sortField==e.field&&t.push(n.sortOrder)),i.className=t.join(" "),o.appendChild(i)}})},renderBody:function(){var t,n,i,o,a,s=this.tbody,c=this.options,l=this.columns,d=this.collection.clone(),r=c.page,u=c.limit,f=c.sortable,m=c.sortField,h=c.sortOrder,p=c.searchable,v=c.searchText,b=c.searchFields,g=this.formats;return s.innerHTML="",0==d.length?this.renderBodyEmpty(this.emptyMessage):(p&&v&&(d=d.search(v,b)),0==d.length?this.renderBodyEmpty("No records found matching your criterion"):(f&&m&&h&&(d.comparator=m,d.sort(),"asc"!==h&&d.models.reverse()),this.maxPage=Math.ceil(d.length/u),c.paginate&&d.reset(d.limit(u,r),{sort:!1}),d.each(function(c){(t=document.createElement("tr")).setAttribute("data-id",c.id),e.each(l,function(s){s.visible&&(n=document.createElement("td"),i=s.field,a=g[i],o=c.get(i),a&&(o=a.call(c,o)),e.isElement(o)?n.appendChild(o):n.innerHTML=o,s.cellClass&&(n.className=s.cellClass),t.appendChild(n))}),s.appendChild(t)}),void(c.pagination&&c.pagination.update(c.page,this.maxPage,c.limit))))},renderBodyEmpty:function(t){var e=document.createElement("tr"),n=document.createElement("td");n.className="table-warning",n.setAttribute("colspan",this.columns.length),n.innerHTML=t,e.appendChild(n),this.tbody.appendChild(e),this.trigger("empty")},format:function(){},renderFoot:function(){},sort:function(t,e){e="desc"===e?"desc":"asc";var n=this.options;n.field===t&&n.dir===dir||(this.options.page=1,this.options.sortField=t,this.options.sortOrder=e,this.renderHead(),this.renderBody())},page:function(t){var e=this.maxPage,n=this.options;n.paginate&&t>=1&&t<=e&&t!==n.page&&(this.options.page=t,this.renderBody())},limit:function(t){var e=this.options;e.paginate&&t!==e.limit&&(this.options.page=1,this.options.limit=t,this.renderBody())},search:function(t){var e=this.options,n=e.searchbox;e.searchable&&(this.options.page=1,this.options.searchText=t,this.renderBody(),n.value()!==t&&n.update(t))},select:function(t){if(this.options.selectable){this.deselect();var e=this.collection.get(t);if(e){var n=$(this.tbody).find('[data-id="'+t+'"]');this.selected=e,this.trigger("select",e),n.addClass("table-active")}}},deselect:function(){if(this.options.selectable){var t=this.selected;this.selected=void 0,t&&this.trigger("deselect",t),$(this.tbody).find("tr.table-active").removeClass("table-active")}},events:{"click th.sortable":"clickSort","click tbody tr":"clickRow","dblclick tbody tr":"dblclickRow"},clickSort:function(t){var e=t.currentTarget.getAttribute("data-field"),n="asc";e&&(this.options.sortField==e&&(n="asc"==this.options.sortOrder?"desc":"asc"),this.sort(e,n))},clickRow:function(t){var e=t.currentTarget.getAttribute("data-id"),n=this.selected;n&&n.id==e?this.deselect():this.select(e)},dblclickRow:function(t){var e=t.currentTarget.getAttribute("data-id");this.select(e),this.trigger("dblclick",this.selected)}}),i={"application/pdf":"file-pdf-o","application/javascript":"file-code-o","application/json":"file-code-o","application/xml":"file-code-o","application/sql":"file-code-o","text/css":"file-code-o","text/html":"file-code-o","application/msword":"file-word-o","application/vnd.ms-excel":"file-excel-o","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"file-excel-o","text/csv":"file-excel-o","application/vnd.ms-powerpointÂ (.ppt)":"file-powerpoint-o","application/vnd.openxmlformats-officedocument.presentationml.presentation":"file-powerpoint-o","text/plain":"file-text-o","application/x-7z-compressed":"file-archive-o","application/x-rar-compressed":"file-archive-o","application/x-zip-compressed":"file-archive-o","application/zip":"file-archive-o","image/png":"file-image-o","image/jpeg":"file-image-o","image/gif":"file-image-o","video/x-flv":"file-video-o","video/mp4":"file-video-o","application/x-mpegURL":"file-video-o","video/MP2T":"file-video-o","video/3gpp":"file-video-o","video/quicktime":"file-video-o","video/x-msvideo":"file-video-o","video/x-ms-wmv":"file-video-o","audio/mpeg":"file-audio-o","audio/vorbis":"file-audio-o"};n.formats={mime:function(t){var e=document.createElement("span");return e.className="fa fa-"+(t&&i[t]?i[t]:"file-o"),e},size:function(t){var e=["Bytes","KB","MB","GB","TB"];if(0==t)return"0 Byte";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,n),2)+" "+e[n]},date:function(t){return t?(t=t.toString().replace("T00:00:00+00:00",""),moment(t).format("MM/DD/YYYY")):"N/A"},currency:function(t){return t&&e.isNumber(t)?(t=t.toFixed(2).toString(),"$ "+(t=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))):"$ -"},createdBy:function(t){return t?t.username.split("@")[0]:"Anonymous"}},t.Table=n}(App,_),function(t){t.Accounts={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Attachments={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Comments={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Funds={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Investments={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.InvestorsAccounts={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Investors={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Offerings={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Statements={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){t.Transactions={Model:void 0,Collection:void 0,View:void 0,views:{},typeDescription:function(t){switch(t){case 0:return"Initial deposit";case 1:return"Preferred payment (prorated)";case 2:return"Preferred payment";case 3:return"Drawdown";case"0":return"Initial deposit";case"1":return"Preferred payment (prorated)";case"2":return"Preferred payment";case"3":return"Drawdown";default:return"Unknown"}}}}(App),function(t){t.Users={Model:void 0,Collection:void 0,View:void 0,views:{}}}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"accounts",serverNode:"accounts",validate:function(){}});t.Accounts.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"attachments",serverNode:"attachments",validate:function(){},prepare:function(){var t=this.attributes,e=new FormData;return e.append("parent",t.parent),e.append("parent_id",t.parent_id),e.append("file",t.file),e}});t.Attachments.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"comments",serverNode:"comments",validate:function(t){if(!t.content)return"Comment cannot be empty"}});t.Comments.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"funds",serverNode:"funds",validate:function(){}});t.Funds.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"investments",serverNode:"investments",validate:function(t){return t.account_id?t.offering_id?t.date?t.amount?!t.term||t.term<1?"Please provide a term":void 0:"Please provide an amount":"Please provide a date":"Please select an offering":"Please select an account"}});t.Investments.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"investors-accounts",serverNode:"investors-accounts",validate:function(){}});t.InvestorsAccounts.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"investors",serverNode:"investors",validate:function(){}});t.Investors.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"offerings",serverNode:"offerings",validate:function(){}});t.Offerings.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"statements",serverNode:"statements",validate:function(){}});t.Statements.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"transactions",serverNode:"transactions",validate:function(t){return t.investment_id?t.date?t.amount?3==t.type&&void 0!==t.max_amount&&t.max_amount<t.amount?"A drawdown cannot be greater than the balance":void 0:"Please provide an amount":"Please provide a date":"Please select an investment"}});t.Transactions.Model=e}(App),function(t){var e=t.Model.extend({defaults:{},urlRoot:"users",serverNode:"users",validate:function(){}});t.Users.Model=e}(App),function(t){var e=t.Accounts.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Accounts.Collection=n}(App),function(t){var e=t.Attachments.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Attachments.Collection=n}(App),function(t){var e=t.Comments.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Comments.Collection=n}(App),function(t){var e=t.Funds.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Funds.Collection=n}(App),function(t){var e=t.Investments.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Investments.Collection=n}(App),function(t){var e=t.InvestorsAccounts.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.InvestorsAccounts.Collection=n}(App),function(t){var e=t.Investors.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Investors.Collection=n}(App),function(t){var e=t.Offerings.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Offerings.Collection=n}(App),function(t){var e=t.Statements.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Statements.Collection=n}(App),function(t){var e=t.Transactions.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Transactions.Collection=n}(App),function(t){var e=t.Users.Model,n=t.Collection.extend({model:e,urlRoot:e.prototype.urlRoot});t.Users.Collection=n}(App),function(t){var e=t.View.extend({});t.Accounts.View=e}(App),function(t){var e=t.View.extend({});t.Attachments.View=e}(App),function(t){var e=t.View.extend({});t.Comments.View=e}(App),function(t){var e=t.View.extend({});t.Funds.View=e}(App),function(t){var e=t.View.extend({});t.Investments.View=e}(App),function(t){var e=t.View.extend({});t.InvestorsAccounts.View=e}(App),function(t){var e=t.View.extend({});t.Investors.View=e}(App),function(t){var e=t.View.extend({});t.Offerings.View=e}(App),function(t){var e=t.View.extend({});t.Statements.View=e}(App),function(t){var e=t.View.extend({});t.Transactions.View=e}(App),function(t){var e=t.View.extend({});t.Users.View=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Accounts.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),$download=t.find('[data-action="download"]'),this.$read=$read,this.$delete=$delete,this.$update=$update,this.$download=$download},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t),this.$download.prop("disabled",t)}});t.Attachments.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Comments.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Funds.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Investments.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.InvestorsAccounts.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Investors.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Offerings.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$download=t.find('[data-action="download"]'),this.$download=$download},render:function(){var t=!this.model;this.$download.prop("disabled",t)}});t.Statements.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$update=t.find('[data-action="update"]'),$delete=t.find('[data-action="delete"]'),this.$read=$read,this.$update=$update,this.$delete=$delete},render:function(){var t=!this.model;this.$read.prop("disabled",t),this.$update.prop("disabled",t),this.$delete.prop("disabled",t)}});t.Transactions.Toolbar=e}(App),function(t){var e=t.Toolbar.extend({initialize:function(){var t=this.$el;$read=t.find('[data-action="read"]'),$resetPassword=t.find('[data-action="reset-password"]'),$changeRole=t.find('[data-action="change-role"]'),$lock=t.find('[data-action="lock"]'),$unlock=t.find('[data-action="unlock"]'),this.$resetPassword=$resetPassword,this.$changeRole=$changeRole,this.$lock=$lock,this.$unlock=$unlock},render:function(){var t=!this.model;this.$resetPassword.prop("disabled",t),this.$changeRole.prop("disabled",t),this.$lock.prop("disabled",t),this.$unlock.prop("disabled",t)}});t.Users.Toolbar=e}(App),function(t){var e=t.Table,n=e.extend({formats:{type:function(t){return t||(t=5),[null,"Personal","Business","IRA","401K","Other"][t]},investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Accounts.Table=n}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No attachments found",formats:{mime:e.formats.mime,size:e.formats.size,created:e.formats.date,modified:e.formats.date,created_by:e.formats.createdBy}});t.Attachments.Table=n}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No comments found",formats:{created_by:function(t){return t?t.username.split("@")[0]:"Anonymous"},modified_by:function(){},created:e.formats.date,modified:e.formats.date}});t.Comments.Table=n}(App),function(t){var e=t.Table,n=e.extend({formats:{investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Funds.Table=n}(App),function(t){var e=t.Table,n=["Pending","Open","Closed"],i=e.extend({formats:{status:function(t){return t||(t=1),n[t]},fund:function(){return this.get("offering").fund.name},account:function(t){return t.name},date:e.formats.date,amount:e.formats.currency,balance:e.formats.currency,preferred_payment:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Investments.Table=i}(App),function(t){var e=t.Table.extend({formats:{}});t.InvestorsAccounts.Table=e}(App),function(t){var e=t.Table,n=e.extend({formats:{investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Investors.Table=n}(App),function(t){var e=t.Table,n=e.extend({formats:{date:e.formats.date,rate:function(t){return t||(t=0),t.toFixed(3)+"%"},capacity:e.formats.currency,investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Offerings.Table=n}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No statements found",formats:{type:function(){var t=document.createElement("span");return t.className="fa fa-file-pdf-o",t},correct:function(t){var e=document.createElement("span");return e.className=t?"fa fa-check text-success":"fa fa-times text-danger",e},date:e.formats.date,size:e.formats.size}});t.Statements.Table=n}(App),function(t){var e=t.Table,n=e.extend({formats:{type:t.Transactions.typeDescription,date:e.formats.date,amount:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Transactions.Table=n}(App),function(t){var e=["Read only","User","Admin","Super admin"],n=t.Table.extend({formats:{role:function(t){return e[t]},active:function(t){var e=document.createElement("span");return e.className=t?"fa fa-check text-success":"fa fa-times text-danger",e},locked:function(t){var e=document.createElement("span");return e.className=t?"fa fa-lock text-danger":"fa fa-unlock text-success",e}}});t.Users.Table=n}(App),function(t){var e=t.Form.extend({});t.Accounts.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Accounts.UpdateForm=e}(App),function(t){var e=t.Form.extend({initialize:function(){var t=this.$el.find('[data-field="file"]'),e=t.siblings("span");t.on("change",function(){var t=this.files[0];t?e.html(t.name):e.html("")}),this.$input=t},validate:function(){if(!this.$input[0].files[0])return"Please select a file"},submit:function(){var t=this,e=this.model,n=this.validate();n&&this.trigger("error",n),e.set("file",this.$input[0].files[0]),this.loading(!0),e.save(e.attributes,{success:function(e,n,i){t.loading(!1),n.error?t.trigger("error",n.error):t.trigger("success",e)},error:function(e,n,i){t.loading(!1),t.trigger("error","An unexpected error occured")}})}});t.Attachments.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Attachments.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Comments.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Comments.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Funds.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Funds.UpdateForm=e}(App),function(t){var e=t.Form.extend({investors:void 0,accounts:void 0,investments:void 0,initialize:function(t){this.investors=t.investors,this.accounts=t.accounts,this.investments=t.investments,this.initElement(),this.initDropdowns()},initElement:function(t){var e=this.$el,n=e.find('[name="investor"]'),i=e.find('[name="account"]'),o=e.find('[name="investment_id"]');this.$investors=n,this.$accounts=i,this.$investments=o},initDropdowns:function(){this.initInvestorsDropdown(),this.initAccountsDropdown(),this.initInvestmentsDropdown()},initInvestorsDropdown:function(){var t,e=this,n=this.$investors,i=n[0];this.investors.each(function(e){e.get("investments_balance")<=0||((t=document.createElement("option")).value=e.get("id"),t.innerHTML=e.get("name"),i.appendChild(t))}),n.on("change",function(){e.trigger("investor-change",n.val())})},initAccountsDropdown:function(){var t,e=this,n=this.$accounts,i=n[0];this.accounts.each(function(e){e.get("investments_balance")<=0||((t=document.createElement("option")).value=e.get("id"),t.innerHTML=e.get("name"),t.setAttribute("data-id",e.id),t.setAttribute("data-parent",e.get("investor_id")),i.appendChild(t))}),this.on("investor-change",function(t){e.updateAccountsDropdown(t)}),n.on("change",function(){e.trigger("account-change",n.val())})},initInvestmentsDropdown:function(){var t,e,n,i,o,a,s=this,c=this.$investments,l=c[0];this.investments.each(function(s){(e=s.get("balance"))<=0||(n=s.get("client_id"),i=moment(s.get("date")).format("MM/DD/YYYY"),e=e.toFixed(2).toString(),e=e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),o=s.get("offering_fund_name"),a=n+" : "+i+" - $"+e+" - "+o,(t=document.createElement("option")).value=s.get("id"),t.innerHTML=a,t.setAttribute("data-id",s.id),t.setAttribute("data-parent",s.get("account_id")),l.appendChild(t))}),this.on("account-change",function(t){s.updateInvestmentsDropdown(t)}),c.on("change",function(){s.trigger("investment-change",c.val())})},updateAccountsDropdown:function(t){var e=this.$accounts;if(e.val(""),e.find("[data-id]").addClass("d-none"),!t)return this.trigger("account-change"),void e.prop("disabled",!0);e.prop("disabled",!1),$items=e.find('[data-parent="'+t+'"]'),$items.removeClass("d-none"),$items.length&&e.val($items[0].value),this.trigger("account-change",e.val())},updateInvestmentsDropdown:function(t){var e=this.$investments;if(e.val(""),e.find("[data-id]").addClass("d-none"),!t)return this.trigger("investment-change"),void e.prop("disabled",!0);e.prop("disabled",!1),$items=e.find('[data-parent="'+t+'"]'),$items.removeClass("d-none"),$items.length&&e.val($items[0].value),this.trigger("investment-change",e.val())},render:function(){this.populate()},submit:function(){var t=this.toModel();t.isValid()?this.trigger("success",t):this.trigger("error",t.validationError)}});t.Investments.ApplyTransactionsAddForm=e}(App),function(t){var e=t.Form.extend({funds:void 0,accounts:void 0,offerings:void 0,investors:void 0,initialize:function(t){this.funds=t.funds,this.accounts=t.accounts,this.offerings=t.offerings,this.investors=t.investors,this.initElement(),this.initDropdowns(),this.$ach=$("#investments-create-ach");var e=$("#investments-create-ach-form");this.$ach.on("change",function(){"on"==this.value?e.removeClass("d-none"):e.addClass("d-none")})},initElement:function(t){var e=this.$el,n=e.find('[name="fund"]'),i=e.find('[name="offering_id"]'),o=e.find('[name="investor"]'),a=e.find('[name="account_id"]');this.$funds=n,this.$offerings=i,this.$investors=o,this.$accounts=a},initDropdowns:function(){this.initFundsDropdown(),this.initAccountsDropdown(),this.initOfferingsDropdown(),this.initInvestorsDropdown()},initFundsDropdown:function(){var t,e=this,n=this.$funds[0];this.funds.each(function(e){(t=document.createElement("option")).value=e.get("id"),t.innerHTML=e.get("name"),n.appendChild(t)}),this.$funds.on("change",function(){e.updateOfferingsDropdown($(this).val())})},initOfferingsDropdown:function(){var t,e,n,i,o=this.$offerings[0];this.offerings.each(function(a){e=a.get("id"),n=a.get("date"),n=n?moment(n.toString().split("T")[0]).format("MM/DD/YYYY"):"N/A",i=a.get("rate"),i=(i||0).toFixed(3)+"%",(t=document.createElement("option")).value=e,t.innerHTML=n+" - "+i,t.setAttribute("data-id",e),t.setAttribute("data-parent",a.get("fund_id")),o.appendChild(t)})},initInvestorsDropdown:function(){var t,e=this,n=this.$investors[0];this.investors.each(function(e){(t=document.createElement("option")).value=e.get("id"),t.innerHTML=e.get("name"),n.appendChild(t)}),this.$investors.on("change",function(){e.updateAccountsDropdown($(this).val())})},initAccountsDropdown:function(){var t,e,n=this.$accounts[0];this.accounts.each(function(i){e=i.get("id"),(t=document.createElement("option")).value=e,t.innerHTML=i.get("name"),t.setAttribute("data-id",e),t.setAttribute("data-parent",i.get("investor_id")),n.appendChild(t)})},updateOfferingsDropdown:function(t){var e=this.$offerings;e.val(""),e.find("[data-id]").addClass("d-none"),t?(e.prop("disabled",!1),$items=e.find('[data-parent="'+t+'"]'),$items.removeClass("d-none"),e.val($items[$items.length-1].value)):e.prop("disabled",!0)},updateAccountsDropdown:function(t){var e=this.$accounts;e.val(""),e.find("[data-id]").addClass("d-none"),t?(e.prop("disabled",!1),$items=e.find('[data-parent="'+t+'"]'),$items.removeClass("d-none"),e.val($items[0].value)):e.prop("disabled",!0)},render:function(){this.populate()}});t.Investments.CreateForm=e}(App),function(t){var e=t.Form,n=e.extend({funds:void 0,accounts:void 0,offerings:void 0,investors:void 0,initialize:function(t){this.funds=t.funds,this.accounts=t.accounts,this.offerings=t.offerings,this.investors=t.investors,this.initElement(),this.initDropdowns()},initElement:function(t){var e=this.$el,n=e.find('[name="fund"]'),i=e.find('[name="offering_id"]'),o=e.find('[name="investor"]'),a=e.find('[name="account_id"]');this.$funds=n,this.$offerings=i,this.$investors=o,this.$accounts=a},initDropdowns:function(){this.initFundsDropdown(),this.initAccountsDropdown(),this.initOfferingsDropdown(),this.initInvestorsDropdown()},initFundsDropdown:function(){var t,e=this,n=this.$funds[0];this.funds.each(function(e){(t=document.createElement("option")).value=e.get("id"),t.innerHTML=e.get("name"),n.appendChild(t)}),this.$funds.on("change",function(){e.updateOfferingsDropdown($(this).val())})},initOfferingsDropdown:function(){var t,e,n,i,o=this.$offerings[0];this.offerings.each(function(a){e=a.get("id"),n=a.get("date"),n=n?moment(n.toString().split("T")[0]).format("MM/DD/YYYY"):"N/A",i=a.get("rate"),i=(i||0).toFixed(3)+"%",(t=document.createElement("option")).value=e,t.innerHTML=n+" - "+i,t.setAttribute("data-id",e),t.setAttribute("data-parent",a.get("fund_id")),o.appendChild(t)})},initInvestorsDropdown:function(){var t,e=this,n=this.$investors[0];this.investors.each(function(e){(t=document.createElement("option")).value=e.get("id"),t.innerHTML=e.get("name"),n.appendChild(t)}),this.$investors.on("change",function(){e.updateAccountsDropdown($(this).val())})},initAccountsDropdown:function(){var t,e,n=this.$accounts[0];this.accounts.each(function(i){e=i.get("id"),(t=document.createElement("option")).value=e,t.innerHTML=i.get("name"),t.setAttribute("data-id",e),t.setAttribute("data-parent",i.get("investor_id")),n.appendChild(t)})},updateOfferingsDropdown:function(t){var e=this.$offerings;e.val(""),e.find("[data-id]").addClass("d-none"),t?(e.prop("disabled",!1),$items=e.find('[data-parent="'+t+'"]'),$items.removeClass("d-none"),e.val($items[$items.length-1].value)):e.prop("disabled",!0)},updateAccountsDropdown:function(t){var e=this.$accounts;e.val(""),e.find("[data-id]").addClass("d-none"),t?(e.prop("disabled",!1),$items=e.find('[data-parent="'+t+'"]'),$items.removeClass("d-none"),e.val($items[0].value)):e.prop("disabled",!0)},populate:function(){e.prototype.populate.call(this);var t=this.model,n=t.get("account_id"),i=t.get("offering_id"),o=this.accounts.get(n),a=this.offerings.get(i).get("fund_id"),s=o.get("investor_id");this.$funds.val(a),this.$investors.val(s),this.updateOfferingsDropdown(a),this.updateAccountsDropdown(s),this.$accounts.val(n),this.$offerings.val(i)}});t.Investments.UpdateForm=n}(App),function(t){var e=t.Form.extend({});t.InvestorsAccounts.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.InvestorsAccounts.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Investors.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Investors.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Offerings.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Offerings.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Statements.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Statements.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Transactions.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Transactions.UpdateForm=e}(App),function(t){var e=t.Form.extend({});t.Users.CreateForm=e}(App),function(t){var e=t.Form.extend({});t.Users.ForgotPasswordForm=e}(App),function(t){var e=t.Form.extend({$submit:void 0,$submitIcon:void 0,initialize:function(){this.initElement()},initElement:function(){var t=this.$el.find('[data-action="submit"]'),e=t.find(".fa");this.$submit=t,this.$submitIcon=e,t.on("mouseover",function(){e.removeClass("fa-lock"),e.addClass("fa-unlock")}),t.on("mouseout",function(){e.removeClass("fa-unlock"),e.addClass("fa-lock")})},submit:function(){var e=this,n=this.toModel(),i=this.validate(n.attributes);i?this.trigger("error",i):(this.loading(!0),$.ajax({url:t.url("login")+".json",type:"post",dataType:"json",data:{username:n.get("username"),password:n.get("password")},success:function(t){e.loading(!1),t.success?e.trigger("success",t.redirect):e.trigger("error",t.error)},error:function(){e.loading(!1),e.trigger("error","An unexpected error occured")}}))},validate:function(t){return t.username?t.password?void 0:"Please provide a password":"Please provide a username"},loadingStateOn:function(){this.$submitIcon.removeClass("fa-lock"),this.$submitIcon.removeClass("fa-unlock"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-lock")}});t.Users.LoginForm=e}(App),function(t){var e=t.Form.extend({});t.Users.UpdateForm=e}(App),function(t){var e=t.Profile.extend({});t.Accounts.DeleteProfile=e}(App),function(t){var e=t.Profile,n=[null,"Personal","Business","IRA","401K","Other"],i=e.extend({formats:{type:function(t){return t||(t=5),n[t]},address:function(t){return t||"N/A"},city_state_zip:function(t){var e=this.get("city"),n=this.get("state"),i=this.get("zip");return e||n||i?!e||n||i?e&&n&&!i?e+", "+n:e&&n&&i?e+", "+n+" "+i:e||!n||i?!e&&n&&i?n+" "+i:e||n||!i?void 0:i:n:e:"N/A"},investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:function(t){return t?moment(t).fromNow():"N/A"},created_by:e.formats.createdBy,modified_by:e.formats.modifiedBy}});t.Accounts.ReadProfile=i}(App),function(t){var e=t.Profile.extend({});t.Attachments.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{created:e.formats.date,modified:e.formats.date}});t.Attachments.ReadProfile=n}(App),function(t){var e=t.Profile.extend({});t.Comments.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{created:e.formats.date,modified:e.formats.date}});t.Comments.ReadProfile=n}(App),function(t){var e=t.Profile.extend({});t.Funds.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:function(t){return t?moment(t).fromNow():"N/A"},created_by:e.formats.createdBy,modified_by:e.formats.modifiedBy}});t.Funds.ReadProfile=n}(App),function(t){var e=t.Profile.extend({});t.Investments.DeleteProfile=e}(App),function(t){var e=t.Profile,n=["Pending","Open","Closed"],i=e.extend({formats:{fund:function(e){var n=this.get("offering").fund,i=document.createElement("a");return i.innerHTML=n.name,i.href=t.url("funds/"+n.id),i},offering:function(t){var e=t.rate||0;return t.class+" @ "+e.toFixed(3)+"%"},investor:function(e){var n=this.get("account").investor,i=document.createElement("a");return i.innerHTML=n.name,i.href=t.url("investors/"+n.id),i},account:function(t){return t.name},status:function(t){return t||(t=0),n[t]},date:e.formats.date,amount:e.formats.currency,balance:e.formats.currency,preferred_payment:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Investments.ReadProfile=i}(App),function(t){var e=t.Profile.extend({});t.InvestorsAccounts.DeleteProfile=e}(App),function(t){var e=t.Profile.extend({formats:{}});t.InvestorsAccounts.ReadProfile=e}(App),function(t){var e=t.Profile.extend({});t.Investors.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{address:function(t){return t||"N/A"},city_state_zip:function(t){var e=this.get("city"),n=this.get("state"),i=this.get("zip");return e||n||i?!e||n||i?e&&n&&!i?e+", "+n:e&&n&&i?e+", "+n+" "+i:e||!n||i?!e&&n&&i?n+" "+i:e||n||!i?void 0:i:n:e:"N/A"},investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:function(t){return t?moment(t).fromNow():"N/A"},created_by:e.formats.createdBy,modified_by:e.formats.modifiedBy}});t.Investors.ReadProfile=n}(App),function(t){var e=t.Profile.extend({formats:{rate:function(t){return t||(t=0),t.toFixed(3)+"%"}}});t.Offerings.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{date:e.formats.date,rate:function(t){return t||(t=0),t.toFixed(3)+"%"},capacity:e.formats.currency,investments_amount:e.formats.currency,investments_balance:e.formats.currency,created:e.formats.date,modified:function(t){return t?moment(t).fromNow():"N/A"},created_by:e.formats.createdBy,modified_by:e.formats.modifiedBy}});t.Offerings.ReadProfile=n}(App),function(t){var e=t.Profile.extend({});t.Statements.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{created:e.formats.date,modified:e.formats.date}});t.Statements.ReadProfile=n}(App),function(t){var e=t.Profile.extend({});t.Transactions.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{date:e.formats.date,amount:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Transactions.ReadProfile=n}(App),function(t){var e=t.Profile.extend({});t.Users.DeleteProfile=e}(App),function(t){var e=t.Profile,n=e.extend({formats:{created:function(t){return moment(t).fromNow(!0)},modified:e.formats.date}});t.Users.ReadProfile=n}(App),function(t){var e=t.Accounts,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"accounts-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,closeOnSuccess:!0,alertElement:"accounts-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Accounts.CreateModal=o}(App),function(t){var e=t.Accounts,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"accounts-delete-profile",alertElement:"accounts-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Accounts.DeleteModal=o}(App),function(t){var e=t.Accounts,n=t.Modal,i=e.ReadProfile,o=n.extend({investmentsPanel:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initInvestments(),this.initComments(),this.initAttachments()},initProfile:function(){var t=new i({el:document.getElementById("accounts-read-profile")});this.profile=t},initInvestments:function(){var e=new(0,t.Investments.Collection),n=new(0,t.Accounts.InvestmentsPanel)({collection:e,el:document.getElementById("accounts-investments-panel")});this.investmentsPanel=n},initComments:function(){var e=new(0,t.Comments.Collection),n=new(0,t.Accounts.CommentsPanel)({el:document.getElementById("accounts-comments-panel"),modal:this,collection:e});this.commentsPanel=n},initAttachments:function(){var e=new(0,t.Attachments.Collection),n=new(0,t.Accounts.AttachmentsPanel)({el:document.getElementById("accounts-attachments-panel"),modal:this,collection:e});this.attachmentsPanel=n},render:function(){$("#accounts-tab a:first").tab("show"),this.investmentsPanel.reset(this.model),this.commentsPanel.reset(this.model),this.attachmentsPanel.reset(this.model)},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Accounts.ReadModal=o}(App),function(t){var e=t.Accounts,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"accounts-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"accounts-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Accounts.UpdateModal=o}(App),function(t){var e=t.Attachments,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"attachments-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"attachments-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Attachments.CreateModal=o}(App),function(t){var e=t.Attachments,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"attachments-delete-profile",alertElement:"attachments-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e,n,i){var o;o=i&&i.textStatus?i.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(o)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Attachments.DeleteModal=o}(App),function(t){var e=t.Attachments,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("attachments-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Attachments.ReadModal=o}(App),function(t){var e=t.Attachments,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"attachments-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"attachments-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Attachments.UpdateModal=o}(App),function(t){var e=t.Comments,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"comments-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"comments-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Comments.CreateModal=o}(App),function(t){var e=t.Comments,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"comments-delete-profile",alertElement:"comments-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Comments.DeleteModal=o}(App),function(t){var e=t.Comments,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("comments-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Comments.ReadModal=o}(App),function(t){var e=t.Comments,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"comments-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"comments-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Comments.UpdateModal=o}(App),function(t){var e=t.Funds,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"funds-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"funds-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Funds.CreateModal=o}(App),function(t){var e=t.Funds,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"funds-delete-profile",alertElement:"funds-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Funds.DeleteModal=o}(App),function(t){var e=t.Funds,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("funds-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Funds.ReadModal=o}(App),function(t){var e=t.Funds,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"funds-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"funds-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Funds.UpdateModal=o}(App),function(t){var e=t.Investments,n=t.Modal,i=e.ApplyTransactionsAddForm,o=n.extend({investors:void 0,accounts:void 0,investments:void 0,form:void 0,formId:"apply-transactions-add-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"apply-transactions-add-modal-alert",closeOnSuccess:!0,initialize:function(t){this.investors=t.investors,this.accounts=t.accounts,this.investments=t.investments,t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({investors:this.investors,accounts:this.accounts,investments:this.investments,el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},updateInvestor:function(t){this.form.$investors.val(t.id),this.form.updateAccountsDropdown(t.id)},updateAccount:function(t){this.form.$accounts.val(t.id),this.form.updateInvestmentsDropdown(t.id)},updateInvestment:function(t){this.form.$investments.val(t.id),this.form.trigger("investment-change",t)},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Investments.ApplyTransactionsAddModal=o}(App),function(t){var e=t.Modal.extend({form:void 0,formId:"apply-transactions-import-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"apply-transactions-import-modal-alert",closeOnSuccess:!0,initialize:function(t){this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=this.$el.find('[data-field="file"]'),e=t.siblings("span");t.on("change",function(){var t=this.files[0];t?e.html(t.name):e.html("")}),this.$input=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var e=this,n={},i=this.alert,o=this.$input[0].files[0],a=new FormData;i.clear(),o?(this.loading(!0),a.append("file",o),n.url=t.url("/utility/csv-to-json.json"),n.data=a,n.type="post",n.async=!1,n.cache=!1,n.contentType=!1,n.processData=!1,n.enctype="multipart/form-data",n.success=function(t){t.success?(e.trigger("success",t.data),e.close()):i.set(t.error),e.loading(!1)},n.error=function(t){i.set("An unexpected error occured"),e.loading(!1)},$.ajax(n)):i.set("Please select a file")},loadingStateOn:function(){this.$submitIcon.removeClass("fa-upload"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-upload")}});t.Investments.ApplyTransactionsImportModal=e}(App),function(t){var e=t.Modal.extend({$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"apply-transactions-submit-modal-alert",closeOnSuccess:!0,initialize:function(t){this.initElement()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},render:function(){var t=this.collection;if(t){var e={1:{count:0,amount:0},2:{count:0,amount:0},3:{count:0,amount:0},total:{count:t.length,amount:0}};t.each(function(t){var n=t.get("type").toString(),i=t.get("amount");e.total.amount+=i,e[n].count++,e[n].amount+=i}),this.renderTable(e)}},renderTable:function(e){var n=this.$el;_.each(e,function(e,i){n.find('[data-field="'+i+'-count"]').html(e.count),n.find('[data-field="'+i+'-amount"]').html(t.formats.currency(e.amount))})},reset:function(t){this.collection=t,this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.isLoading()||(this.trigger("cancel",this.model),this.alert.clear(),this.close())},submit:function(){if(!this.isLoading()){var e=this,n={},i=this.alert;i.clear(),this.loading(!0),n.url=t.url("investments/apply-transactions.json"),n.type="post",n.dataType="json",n.data={json:JSON.stringify(this.collection.toJSON())},n.error=function(t){i.set("An unexpected error occured, please try again"),e.loading(!1)},n.success=function(t){t.success?(e.trigger("success",t),e.close()):i.set(t.error),e.loading(!1)},$.ajax(n)}},loadingStateOn:function(){this.$el.data("bs.modal")._config.backdrop="static",this.$submitIcon.removeClass("fa-upload"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$el.data("bs.modal")._config.backdrop=!0,this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-upload")}});t.Investments.ApplyTransactionsSubmitModal=e}(App),function(t){var e=t.Investments,n=t.Modal,i=e.CreateForm,o=n.extend({funds:void 0,accounts:void 0,offerings:void 0,investors:void 0,form:void 0,formId:"investments-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"investments-create-modal-alert",closeOnSuccess:!0,initialize:function(t){this.funds=t.funds,this.accounts=t.accounts,this.offerings=t.offerings,this.investors=t.investors,t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId),funds:this.funds,accounts:this.accounts,offerings:this.offerings,investors:this.investors});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Investments.CreateModal=o}(App),function(t){var e=t.Investments,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"investments-delete-profile",alertElement:"investments-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Investments.DeleteModal=o}(App),function(t){var e=t.Investments,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("investments-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Investments.ReadModal=o}(App),function(t){var e=t.Investments,n=t.Modal,i=e.UpdateForm,o=n.extend({funds:void 0,accounts:void 0,offerings:void 0,investors:void 0,form:void 0,formId:"investments-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"investments-update-modal-alert",closeOnSuccess:!0,initialize:function(t){this.funds=t.funds,this.accounts=t.accounts,this.offerings=t.offerings,this.investors=t.investors,t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId),funds:this.funds,accounts:this.accounts,offerings:this.offerings,investors:this.investors});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Investments.UpdateModal=o}(App),function(t){var e=t.InvestorsAccounts,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"investors-accounts-create-modal-alert",initialize:function(){this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById("investors-accounts-create-form")});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.InvestorsAccounts.CreateModal=o}(App),function(t){var e=t.InvestorsAccounts,n=t.Modal,i=e.DeleteProfile,o=n.extend({alertElement:"investors-accounts-delete-modal-alert",initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("investors-accounts-delete-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model;this.alert.clear(),this.loading(!0),e.destroy({error:function(e){t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),t.close()}})}});t.InvestorsAccounts.DeleteModal=o}(App),function(t){var e=t.InvestorsAccounts,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("investors-accounts-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.InvestorsAccounts.ReadModal=o}(App),function(t){var e=t.InvestorsAccounts,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"investors-accounts-update-modal-alert",initialize:function(){this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById("investors-accounts-update-form")});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.InvestorsAccounts.UpdateModal=o}(App),function(t){var e=t.Investors,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"investors-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"investors-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.trigger("cancel",this.model),this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Investors.CreateModal=o}(App),function(t){var e=t.Investors,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"investors-delete-profile",alertElement:"investors-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Investors.DeleteModal=o}(App),function(t){var e=t.Investors,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("investors-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Investors.ReadModal=o}(App),function(t){var e=t.Investors,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"investors-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"investors-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Investors.UpdateModal=o}(App),function(t){var e=t.Offerings,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"offerings-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"offerings-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Offerings.CreateModal=o}(App),function(t){var e=t.Offerings,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"offerings-delete-profile",alertElement:"offerings-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Offerings.DeleteModal=o}(App),function(t){var e=t.Offerings,n=t.Modal,i=e.ReadProfile,o=n.extend({investmentsPanel:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initInvestments(),this.initComments(),this.initAttachments()},initProfile:function(){var t=new i({el:document.getElementById("offerings-read-profile")});this.profile=t},initInvestments:function(){var e=new(0,t.Investments.Collection),n=new(0,t.Offerings.InvestmentsPanel)({collection:e,el:document.getElementById("offerings-investments-panel")});this.investmentsPanel=n},initComments:function(){var e=new(0,t.Comments.Collection),n=new(0,t.Offerings.CommentsPanel)({el:document.getElementById("offerings-comments-panel"),modal:this,collection:e});this.commentsPanel=n},initAttachments:function(){var e=new(0,t.Attachments.Collection),n=new(0,t.Offerings.AttachmentsPanel)({el:document.getElementById("offerings-attachments-panel"),modal:this,collection:e});this.attachmentsPanel=n},render:function(){$("#offerings-tab a:first").tab("show"),this.investmentsPanel.reset(this.model),this.commentsPanel.reset(this.model),this.attachmentsPanel.reset(this.model)},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close"}});t.Offerings.ReadModal=o}(App),function(t){var e=t.Offerings,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"offerings-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"offerings-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Offerings.UpdateModal=o}(App),function(t){var e=t.Statements,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"statements-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"statements-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Statements.CreateModal=o}(App),function(t){var e=t.Statements,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"statements-delete-profile",alertElement:"statements-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Statements.DeleteModal=o}(App),function(t){var e=t.Statements,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("statements-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Statements.ReadModal=o}(App),function(t){t.Statements;var e=t.Modal.extend({initialize:function(){},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close"}});t.Statements.SyncModal=e}(App),function(t){var e=t.Statements,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"statements-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"statements-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Statements.UpdateModal=o}(App),function(t){var e=t.Transactions,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,formId:"transactions-create-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"transactions-create-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Transactions.CreateModal=o}(App),function(t){var e=t.Transactions,n=t.Modal,i=e.DeleteProfile,o=n.extend({profile:void 0,profileId:"transactions-delete-profile",alertElement:"transactions-delete-modal-alert",closeOnSuccess:!0,initialize:function(t){t.profileId&&(this.profileId=t.profileId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById(this.profileId)});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model,n=this.closeOnSuccess;this.alert.clear(),this.loading(!0),e.destroy({wait:!0,error:function(e){var e;e=options&&options.textStatus?options.textStatus:"An unexpected error occured",t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),n&&t.close()}})}});t.Transactions.DeleteModal=o}(App),function(t){var e=t.Transactions,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("transactions-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Transactions.ReadModal=o}(App),function(t){var e=t.Transactions,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,formId:"transactions-update-form",$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"transactions-update-modal-alert",closeOnSuccess:!0,initialize:function(t){t.formId&&(this.formId=t.formId),void 0!==t.closeOnSuccess&&(this.closeOnSuccess=t.closeOnSuccess),this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById(this.formId)});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.trigger("cancel",this.model),this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),a&&i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form,a=this.closeOnSuccess;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Transactions.UpdateModal=o}(App),function(t){var e=t.Users,n=t.Modal,i=e.CreateForm,o=n.extend({form:void 0,$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"users-create-modal-alert",initialize:function(){this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById("users-create-form")});this.form=t},render:function(t){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-plus")}});t.Users.CreateModal=o}(App),function(t){var e=t.Users,n=t.Modal,i=e.DeleteProfile,o=n.extend({alertElement:"users-delete-modal-alert",initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("users-delete-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){var t=this,e=this.model;this.alert.clear(),this.loading(!0),e.destroy({error:function(e){t.loading(!1),t.alert.set(e)},success:function(e){t.loading(!1),t.trigger("success",e),t.close()}})}});t.Users.DeleteModal=o}(App),function(t){var e=t.Users,n=t.Modal,i=e.ReadProfile,o=n.extend({initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("users-read-profile")});this.profile=t},reset:function(t){this.model=t,this.profile.reset(t),this.render()},events:{'click [data-action="close"]':"close",'click [data-action="update"]':"update"},update:function(){this.close(),this.trigger("update",this.model)}});t.Users.ReadModal=o}(App),function(t){var e=t.Users,n=t.Modal,i=e.UpdateForm,o=n.extend({form:void 0,$submit:void 0,$cancel:void 0,$submitIcon:void 0,alertElement:"users-update-modal-alert",initialize:function(){this.initElement(),this.initForm()},initElement:function(){var t=this.$el,e=t.find('[data-action="submit"]'),n=t.find('[data-action="cancel"]'),i=e.find(".fa");this.$submit=e,this.$cancel=n,this.$submitIcon=i},initForm:function(){var t=new i({el:document.getElementById("users-update-form")});this.form=t},render:function(){},reset:function(t){this.model=t,this.form.reset(t),this.render()},events:{'click [data-action="cancel"]':"cancel",'click [data-action="submit"]':"submit"},cancel:function(){this.alert.clear(),this.close()},submit:function(){function t(t){n("off"),i.loading(!1),i.trigger("success",t),i.close()}function e(t){n("off"),i.loading(!1),i.alert.set(t)}function n(n){o[n]("error",e),o[n]("success",t)}var i=this,o=this.form;this.alert.clear(),n("on"),this.loading(!0),this.form.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-pencil-square-o"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-pencil-square-o")}});t.Users.UpdateModal=o}(App),function(t){var e=t.Accounts,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("accounts-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("accounts-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("accounts-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("accounts-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("accounts-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("accounts-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("accounts-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("accounts-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click #accounts-table-toolbar [data-action="create"]':"openCreateModal",'click #accounts-table-toolbar [data-action="read"]':"openReadModal",'click #accounts-table-toolbar [data-action="update"]':"openUpdateModal",'click #accounts-table-toolbar [data-action="delete"]':"openDeleteModal",'click #accounts-table-toolbar [data-action="export"]':"export"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("investor_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()},export:function(){var e=this.parentId;$.ajax({url:t.url("accounts/export"),data:{where:{investor_id:e}},success:function(t){_.forceDownload(t,"investor-"+e+"-accounts.csv","text/csv; charset=UTF-8")}})}});t.Accounts.Panel=f}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({account:void 0,parent:"Accounts",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.modal=t.modal,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(e){var n=this,i=t.Accounts.AttachmentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({el:document.getElementById("accounts-attachments-table"),toolbar:o,searchbox:a,pagination:s,collection:this.collection});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(t){t&&n.download()}),this.table=c},initToolbar:function(){var e=new t.Attachments.Toolbar({el:document.getElementById("accounts-attachments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("accounts-attachments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("accounts-attachments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var e=this,n=new t.Attachments.CreateModal({el:document.getElementById("accounts-attachments-create-modal"),formId:"accounts-attachments-create-form",alertElement:"accounts-attachments-create-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.add(t),e.account.set("attachments",e.collection.toJSON()),n.swap(e.modal)}),this.createModal=n},initUpdateModal:function(){var e=this,n=new t.Attachments.UpdateModal({el:document.getElementById("accounts-attachments-update-modal"),formId:"accounts-attachments-update-form",alertElement:"accounts-attachments-update-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.trigger("update"),e.account.set("attachments",e.collection.toJSON()),n.swap(e.modal)}),this.updateModal=n},initDeleteModal:function(){var e=this,n=this.collection,i=new t.Attachments.DeleteModal({el:document.getElementById("accounts-attachments-delete-modal"),profileId:"accounts-attachments-delete-profile",alertElement:"accounts-attachments-delete-modal-alert"});i.on("cancel",function(){i.swap(e.modal)}),i.on("success",function(t){e.account.set("attachments",n.toJSON()),i.swap(e.modal)}),this.deleteModal=i},render:function(){this.table.render()},reset:function(t){this.account=t,this.parentId=t.id,this.collection.reset(t.get("attachments")),this.render()},events:{'click #accounts-attachments-table-toolbar > [data-action="download"]':"download",'click #accounts-attachments-table-toolbar > [data-action="create"]':"openCreateModal",'click #accounts-attachments-table-toolbar > [data-action="update"]':"openUpdateModal",'click #accounts-attachments-table-toolbar > [data-action="delete"]':"openDeleteModal"},download:function(){var e=this.table.selected;window.location=t.url("attachments/download/"+e.id)},openCreateModal:function(){var e=new t.Attachments.Model,n=this.createModal;e.set("parent",this.parent),e.set("parent_id",this.parentId),n.reset(e),this.modal.swap(n)},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),this.modal.swap(e)},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),this.modal.swap(e)}});t.Accounts.AttachmentsPanel=o}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({account:void 0,parent:"Accounts",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.modal=t.modal,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(e){var n=this,i=t.Accounts.CommentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({el:document.getElementById("accounts-comments-table"),toolbar:o,searchbox:a,pagination:s,collection:this.collection});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(t){t&&n.openUpdateModal()}),this.table=c},initToolbar:function(){var e=new t.Comments.Toolbar({el:document.getElementById("accounts-comments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("accounts-comments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("accounts-comments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var e=this,n=new t.Comments.CreateModal({el:document.getElementById("accounts-comments-create-modal"),formId:"accounts-comments-create-form",alertElement:"accounts-comments-create-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.add(t),e.account.set("comments",e.collection.toJSON()),n.swap(e.modal)}),this.createModal=n},initUpdateModal:function(){var e=this,n=new t.Comments.UpdateModal({el:document.getElementById("accounts-comments-update-modal"),formId:"accounts-comments-update-form",alertElement:"accounts-comments-update-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.trigger("update"),e.account.set("comments",e.collection.toJSON()),n.swap(e.modal)}),this.updateModal=n},initDeleteModal:function(){var e=this,n=this.collection,i=new t.Comments.DeleteModal({el:document.getElementById("accounts-comments-delete-modal"),profileId:"accounts-comments-delete-profile",alertElement:"accounts-comments-delete-modal-alert"});i.on("cancel",function(){i.swap(e.modal)}),i.on("success",function(t){e.account.set("comments",n.toJSON()),i.swap(e.modal)}),this.deleteModal=i},render:function(){this.table.render()},reset:function(t){this.account=t,this.parentId=t.id,this.collection.reset(t.get("comments")),this.render()},events:{'click #accounts-comments-table-toolbar > [data-action="create"]':"openCreateModal",'click #accounts-comments-table-toolbar > [data-action="read"]':"openReadModal",'click #accounts-comments-table-toolbar > [data-action="update"]':"openUpdateModal",'click #accounts-comments-table-toolbar > [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var e=new t.Comments.Model,n=this.createModal;e.set("parent",this.parent),e.set("parent_id",this.parentId),n.reset(e),this.modal.swap(n)},openReadModal:function(){},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),this.modal.swap(e)},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),this.modal.swap(e)}});t.Accounts.CommentsPanel=o}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({account:void 0,parent:"Accounts",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.initTable()},initTable:function(e){var n=this,i=t.Accounts.InvestmentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({collection:this.collection,toolbar:o,searchbox:a,pagination:s,el:document.getElementById("accounts-investments-table")});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(){n.read()}),this.table=c},initToolbar:function(){var e=new t.Investments.Toolbar({el:document.getElementById("accounts-investments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("accounts-investments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("accounts-investments-table-pagination")});return this.pagination=t,t},render:function(){this.table.render()},reset:function(t){this.account=t,this.parentId=t.id,this.collection.reset(t.get("investments")),this.render()},events:{'click #accounts-investments-table-toolbar [data-action="read"]':"read",'click #accounts-investments-table-toolbar [data-action="export"]':"export"},read:function(){var e=this.table.selected;e&&(window.location=t.url("investments/"+e.id))},export:function(){var e=this.parentId;$.ajax({url:t.url("investments/export"),data:{where:{account_id:e}},success:function(t){_.forceDownload(t,"account-"+e+"-investments.csv","text/csv; charset=UTF-8")}})}});t.Accounts.InvestmentsPanel=o}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No attachments found",formats:{mime:e.formats.mime,size:e.formats.size,created:e.formats.date,modified:e.formats.date,created_by:e.formats.createdBy}});t.Accounts.AttachmentsTable=n}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No comments found",formats:{created:e.formats.date,modified:e.formats.date,created_by:e.formats.createdBy}});t.Accounts.CommentsTable=n}(App),function(t){var e=t.Table,n=e.extend({formats:{balance:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Accounts.InvestmentsTable=n}(App),function(t){var e=t.Accounts.View.extend({initialize:function(){},render:function(){},events:{}});t.Accounts.views.ExportView=e}(App),function(t){var e=t.Accounts.View.extend({initialize:function(){},render:function(){},events:{}});t.Accounts.views.ImportView=e}(App),function(t){var e=t.Accounts,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("accounts-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("accounts-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("accounts-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("accounts-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("accounts-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("accounts-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("accounts-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("accounts/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Accounts.views.Index=u}(App),function(t){var e=t.Accounts,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("accounts-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Accounts",parentId:e.id,el:document.getElementById("accounts-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Accounts",parentId:e.id,el:document.getElementById("accounts-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("accounts-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("accounts-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Accounts.views.Read=s}(App),function(t){var e=t.Attachments,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=(e.ReadModal,e.CreateModal),d=e.UpdateModal,r=e.DeleteModal,u=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("attachments-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("attachments-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("attachments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("attachments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("attachments-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("attachments-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("attachments-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="download"]':"download",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},download:function(){var e=this.table.selected;window.location=t.url("attachments/download/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Attachments.Panel=u}(App),function(t){var e=t.Attachments.View.extend({initialize:function(){},render:function(){},events:{}});t.Attachments.views.ExportView=e}(App),function(t){var e=t.Attachments.View.extend({initialize:function(){},render:function(){},events:{}});t.Attachments.views.ImportView=e}(App),function(t){var e=t.Attachments,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("attachments-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("attachments-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("attachments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("attachments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("attachments-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("attachments-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("attachments-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("attachments/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Attachments.views.Index=u}(App),function(t){var e=t.Attachments,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("attachments-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Attachments",parentId:e.id,el:document.getElementById("attachments-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Attachments",parentId:e.id,el:document.getElementById("attachments-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("attachments-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("attachments-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Attachments.views.Read=s}(App),function(t){var e=t.Comments,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("comments-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("comments-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("comments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("comments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("comments-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("comments-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("comments-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("comments-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="create"]':"openCreateModal",'click [data-action="read"]':"openReadModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Comments.Panel=f}(App),function(t){var e=t.Comments.View.extend({initialize:function(){},render:function(){},events:{}});t.Comments.views.ExportView=e}(App),function(t){var e=t.Comments.View.extend({initialize:function(){},render:function(){},events:{}});t.Comments.views.ImportView=e}(App),function(t){var e=t.Comments,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("comments-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("comments-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("comments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("comments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("comments-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("comments-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("comments-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("comments/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Comments.views.Index=u}(App),function(t){var e=t.Comments,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("comments-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Comments",parentId:e.id,el:document.getElementById("comments-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Comments",parentId:e.id,el:document.getElementById("comments-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("comments-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("comments-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Comments.views.Read=s}(App),function(t){var e=t.Funds,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("funds-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("funds-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("funds-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("funds-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("funds-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("funds-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("funds-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("funds-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="create"]':"openCreateModal",'click [data-action="read"]':"openReadModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Funds.Panel=f}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({fund:void 0,parent:"Funds",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.fund=t.fund,this.parentId=this.fund.id,this.initTable()},initTable:function(e){var n=this,i=t.Funds.InvestmentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({collection:this.collection,toolbar:o,searchbox:a,pagination:s,el:document.getElementById("funds-investments-table")});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(){n.read()}),this.table=c},initToolbar:function(){var e=new t.Investments.Toolbar({el:document.getElementById("funds-investments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("funds-investments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("funds-investments-table-pagination")});return this.pagination=t,t},render:function(){this.table.render()},reset:function(t){this.fund=t,this.parentId=t.id,this.collection.reset(t.get("investments")),this.render()},events:{'click #funds-investments-table-toolbar [data-action="read"]':"read",'click #funds-investments-table-toolbar [data-action="export"]':"export"},read:function(){var e=this.table.selected;e&&(window.location=t.url("investments/"+e.id))},export:function(){var e=this.fund,n=e.id;$.ajax({url:t.url("investments/export"),data:{where:{"offering_id IN":_.pluck(e.get("offerings"),"id")}},success:function(t){_.forceDownload(t,"fund-"+n+"-investments.csv","text/csv; charset=UTF-8")}})}});t.Funds.InvestmentsPanel=o}(App),function(t){var e=t.Table,n=["Pending","Open","Closed"],i=e.extend({emptyMessage:"No investments found",formats:{status:function(t){return t||(t=1),n[t]},rate:function(t){return t||(t=0),t.toFixed(3)+"%"},date:e.formats.date,amount:e.formats.currency,balance:e.formats.currency}});t.Funds.InvestmentsTable=i}(App),function(t){var e=t.Funds.View.extend({initialize:function(){},render:function(){},events:{}});t.Funds.views.ExportView=e}(App),function(t){var e=t.Funds.View.extend({initialize:function(){},render:function(){},events:{}});t.Funds.views.ImportView=e}(App),function(t){var e=t.Funds,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("funds-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i,sortField:"investments_balance",sortOrder:"desc"});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("funds-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("funds-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("funds-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("funds-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("funds-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("funds-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal",'click [data-action="export"]':"export"},read:function(){var e=this.table.selected;window.location.href=t.url("funds/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()},export:function(){$.ajax({url:t.url("funds/export"),success:function(t){_.forceDownload(t,"funds.csv","text/csv;encoding:utf-8")}})}});t.Funds.views.Index=u}(App),function(t){var e=t.Funds,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,offeringsPanel:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initOfferings(),this.initInvestments(),this.initComments(),this.initAttachments(),this.initModals(),$("#funds-tab").on("shown.bs.tab",function(t){$(t.relatedTarget.getAttribute("href")).removeClass("active").removeClass("show")})},initProfile:function(){var t=new i({el:document.getElementById("funds-read-profile"),model:this.model});this.profile=t},initOfferings:function(){var e=this.model,n=t.Offerings,i=new(0,n.Panel)({fund:e,collection:new(0,n.Collection)(e.get("offerings")),el:document.getElementById("funds-offerings-panel")});this.offeringsPanel=i},initInvestments:function(){var n=this.model,i=new(0,e.InvestmentsPanel)({fund:n,collection:new(0,t.Investments.Collection)(n.get("investments")),el:document.getElementById("funds-investments-panel")});this.investmentsPanel=i},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Funds",parentId:e.id,el:document.getElementById("funds-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Funds",parentId:e.id,el:document.getElementById("funds-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("funds-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("funds-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.offeringsPanel.render(),this.investmentsPanel.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Funds.views.Read=s}(App),function(t){var e=t.Investments,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("offerings-investments-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("investments-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("investments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("investments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("investments-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("investments-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("investments-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("investments-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="create"]':"openCreateModal",'click [data-action="read"]':"openReadModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Investments.Panel=f}(App),function(t){var e=t.Investments.View,n=t.Searchbox,i=t.Pagination,o=e.extend({date:void 0,ready:!1,error:!1,investments:void 0,accounts:void 0,investors:void 0,transactions:void 0,offerings:void 0,funds:void 0,deletedTransactions:void 0,initialize:function(t){var e=this;this.date=t.date,this.once("ready",function(){if(0==e.transactions.length)return e._upToDate();e.initTable(),e.initModals(),e.render()}),this.initElement(),this.loading(!0),this.initInvestments(),this.initAccounts(),this.initInvestors(),this.initTransactions(),this.initFunds(),this.initOfferings()},initElement:function(){var t=$("#transactions-table"),e=$("#transactions-table-toolbar");this.$table=t,this.$tbody=t.find("tbody"),this.$toolbar=e,this.$create=e.find('[data-action="create"]'),this.$export=e.find('[data-action="export"]'),this.$import=e.find('[data-action="import"]'),this.$undoUpdate=e.find('[data-action="undo-update"]'),this.$undoDelete=e.find('[data-action="undo-delete"]'),this.$recalc=e.find('[data-action="recalculate"]'),this.$searchbox=$("#transactions-table-searchbox"),this.$pagination=$("#transactions-table-pagination"),this.$form=$("#transactions-table-form"),this.$error=$("#error-message"),this.$loading=$("#loading-message"),this.$success=$("#success-message")},initInvestments:function(){var e=this,n=new(0,t.Investments.Collection);n.fetch({success:function(){e.investments=n,e._ready()}})},initAccounts:function(){var e=this,n=new(0,t.Accounts.Collection);n.fetch({success:function(){e.accounts=n,e._ready()}})},initInvestors:function(){var e=this,n=new(0,t.Investors.Collection);n.fetch({success:function(){e.investors=n,e._ready()}})},initTransactions:function(){var e=this,n=t.Transactions.Collection,i=new t.Collection,o=new t.Collection,a=new n;i.comparator="__update_timestamp",o.comparator="__delete_timestamp",a.on("change",function(n){if(_.isModel(n)&&!n.get("__delete_timestamp")){if(n.get("__is_undo"))return n.unset("__is_undo",{silent:!0}),a.trigger("update"),!0;var o=new t.Model({previous:n.previousAttributes(),__cid:n.cid,__update_timestamp:new Date});e.$undoUpdate.prop("disabled",!1),i.add(o)}}),a.on("remove",function(t){t.set("__delete_timestamp",new Date),e.$undoDelete.prop("disabled",!1),o.add(t)}),i.on("remove",function(t){var n=t.get("__cid"),o=t.get("previous"),s=a.get(n);o.__is_undo=!0,s.set(o),0==i.length&&e.$undoUpdate.prop("disabled",!0)}),o.on("remove",function(t){t.unset("__delete_timestamp"),a.add(t),0==o.length&&e.$undoDelete.prop("disabled",!0)});var s=moment(this.date).format("YYYY-MM-DD"),c={url:t.url("investments/calculate-transactions/"+s+".json"),success:function(t){a.reset(t),e.deleted=o,e.updated=i,e.transactions=a,e._ready()}};$.ajax(c)},initFunds:function(){var e=this,n=new(0,t.Funds.Collection);n.fetch({success:function(){e.funds=n,e._ready()}})},initOfferings:function(){var e=this,n=new(0,t.Offerings.Collection);n.fetch({success:function(){e.offerings=n,e._ready()}})},initTable:function(){var e=this,n=(this.$undo,this.deletedTransactions,this.transactions),i=new(0,t.Transactions.Table)({collection:n,toolbar:this.initToolbar(),searchbox:this.initSearchbox(),pagination:this.initPagination(),selectable:!1,sortField:"client_id",sortOrder:"desc",formats:{delete:function(){var t=this,e=document.createElement("a"),i=document.createElement("span");return i.className="text-danger fa fa-trash",e.href="#",e.appendChild(i),$(e).on("click",function(){n.remove(t)}),e},date:function(t){var e=this,n=document.createElement("input");return n.className="form-control",n.type="date",n.value=t,$(n).on("change",function(){e.set("date",this.value)}),n},type:function(t){var e=this,n=document.createElement("select"),i=document.createElement("option"),o=document.createElement("option"),a=document.createElement("option");return i.innerHTML="Preferred payment (prorated)",i.value=1,1==t&&(i.selected=!0),o.innerHTML="Preferred payment",o.value=2,2==t&&(o.selected=!0),a.innerHTML="Drawdown",a.value=3,3==t&&(a.selected=!0),n.className="form-control",n.appendChild(i),n.appendChild(o),n.appendChild(a),$(n).on("change",function(){e.set("type",$(this).val())}),n},amount:function(t){var e=this,n=document.createElement("input");return n.className="form-control",n.type="number",n.value=parseFloat(t).toFixed(2),$(n).on("change",function(){e.set("amount",this.value)}),n},add:function(){var t=this.clone(),n=document.createElement("a"),i=document.createElement("span");return i.className="text-success fa fa-plus",n.href="#",n.appendChild(i),$(n).on("click",function(){e.openCreateModal(t)}),n}},el:this.$table[0]});this.table=i},initToolbar:function(){var e=this.$toolbar[0],n=new(0,t.Transactions.Toolbar)({el:e});return this.toolbar=n,n},initSearchbox:function(){var t=this.$searchbox[0],e=new n({el:t});return this.searchbox=e,e},initPagination:function(){var t=this.$pagination[0],e=new i({el:t});return this.pagination=e,e},initModals:function(){this.initCreateModal(),this.initImportModal(),this.initSubmitModal()},initCreateModal:function(){var e=this.transactions,n=new(0,t.Investments.ApplyTransactionsAddModal)({investors:this.investors,accounts:this.accounts,investments:this.investments,el:document.getElementById("apply-transactions-add-modal")});n.on("success",function(t){e.add(t)}),this.createModal=n},initImportModal:function(){var e,n,i,o,a,s,c,l=this,d=l.accounts,r=l.investors,u=l.investments,f=l.transactions,m=new(0,t.Investments.ApplyTransactionsImportModal)({el:document.getElementById("apply-transactions-import-modal")});m.on("success",function(t){n=l.funds,e=l.offerings,f.reset(t),f.each(function(t){i=u.get(t.get("investment_id")),o=d.get(i.get("account_id")),s=e.get(i.get("offering_id")),a=r.get(o.get("investor_id")),c=n.get(s.get("fund_id")),t.set("client_id",i.get("client_id")),t.set("investment_amount",i.get("amount")),t.set("investment_date",i.get("date")),t.set("investment_term",i.get("term")),t.set("investment_balance",i.get("balance")),t.set("investment_rate",s.get("rate")),t.set("fund_name",c.get("name")),t.set("investor_name",a.get("name")),t.set("account_name",o.get("name"))}),f.trigger("update")}),this.importModal=m},initSubmitModal:function(){var e=new(0,t.Investments.ApplyTransactionsSubmitModal)({el:document.getElementById("apply-transactions-submit-modal")});e.on("success",function(t){}),this.submitModal=e},render:function(){this.ready&&(this.table.render(),this.createModal.render(),this.importModal.render(),this.submitModal.render())},events:{'click #transactions-table-form [data-action="submit"]':"openSubmitModal",'click #transactions-table-toolbar [data-action="create"]':"openCreateModal",'click #transactions-table-toolbar [data-action="export"]':"export",'click #transactions-table-toolbar [data-action="import"]':"openImportModal",'click #transactions-table-toolbar [data-action="undo-update"]':"undoUpdate",'click #transactions-table-toolbar [data-action="undo-delete"]':"undoDelete",'click #transactions-table-toolbar [data-action="recalculate"]':"recalculate"},openSubmitModal:function(t){var e=this.transactions,n=this.submitModal;n.reset(e),n.open()},openCreateModal:function(e){var n,i,o=t.Transactions.Model;_.isModel(e)?(n=this.investments.get(e.get("investment_id")),account=this.accounts.get(n.get("account_id")),i=this.investors.get(account.get("investor_id"))):e=new o({date:new Date});var a=this.createModal;a.reset(e),a.open(),i&&(a.updateInvestor(i),a.updateAccount(account),a.updateInvestment(n))},export:function(){var e=[];e.push(_.formatCsvRow(["investment_id","date","type","amount","description","client_id","investment_amount","investment_date","investment_term","investment_balance","investment_rate","fund_name","investor_name","account_name"])),this.transactions.each(function(n){var i=n.get("type");e.push(_.formatCsvRow([n.get("investment_id"),n.get("date"),i,parseFloat(n.get("amount")).toFixed(2),t.Transactions.typeDescription(i),n.get("client_id"),n.get("investment_amount"),moment(n.get("investment_date")).format("MM/DD/YYYY"),n.get("investment_term"),n.get("investment_balance"),(n.get("investment_rate")/100).toFixed(3),n.get("fund_name"),n.get("investor_name"),n.get("account_name")]))}),_.forceDownload(e.join("\n"),"transactions.csv","text/csv;encoding:utf-8")},openImportModal:function(t){this.importModal.open()},undoUpdate:function(){var t=this.updated;t.models.reverse(),t.shift(),t.models.reverse()},undoDelete:function(){var t=this.deleted;t.models.reverse(),t.shift(),t.models.reverse()},recalculate:function(){$input=this.$toolbar.find('[data-action="effective-date"]'),window.location=t.url("investments/apply-transactions/"+moment($input.val()).format("YYYY-MM-DD"))},loadingStateOn:function(){this.$tbody.addClass("d-none"),this.$pagination.addClass("d-none"),this.$form.addClass("d-none"),this.$error.addClass("d-none"),this.$loading.removeClass("d-none"),this.$create.prop("disabled",!0),this.$export.prop("disabled",!0),this.$import.prop("disabled",!0),this.$recalc.prop("disabled",!0)},loadingStateOff:function(){this.error||(this.$tbody.removeClass("d-none"),this.$pagination.removeClass("d-none"),this.$form.removeClass("d-none"),this.$create.prop("disabled",!1),this.$export.prop("disabled",!1),this.$import.prop("disabled",!1),this.$recalc.prop("disabled",!1)),this.$loading.addClass("d-none")},_ready:function(){this.funds&&this.accounts&&this.investors&&this.offerings&&this.investments&&this.transactions&&(this.ready=!0,this.loading(!1),this.trigger("ready"))},_upToDate:function(){this.$tbody.addClass("d-none"),this.$pagination.addClass("d-none"),this.$form.addClass("d-none"),this.$error.addClass("d-none"),this.$loading.removeClass("d-none"),this.$create.prop("disabled",!0),this.$export.prop("disabled",!0),this.$import.prop("disabled",!0),this.$loading.addClass("d-none"),this.$success.removeClass("d-none")},download:function(){var t=this.csvRow,e=this.collection,n=[t(["id","date","amount","account","investor"])];e.each(function(e){var i=[],o=e.get("account"),a=o.investors,s=[];_.each(a,function(t){s.push(t.name)}),s=s.join(","),i.push(e.get("id")),i.push(e.get("date")),i.push(e.get("amount")),i.push(o.name),i.push(s),n.push(t(i))});var i=document.createElement("a"),o=n.join("\n");i.href=URL.createObjectURL(new Blob([o],{type:"text/csv;encoding:utf-8"})),i.setAttribute("download","transactions-to-apply.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},csvRow:function(t){var e=[];return _.each(t,function(t){t.toString().indexOf(",")>=0&&(t='"'+t+'"'),e.push(t)}),e.join(",")}});t.Investments.views.ApplyTransactions=o}(App),function(t){var e=t.Investments.View.extend({initialize:function(){},render:function(){},events:{}});t.Investments.views.ExportView=e}(App),function(t){var e=t.Investments.View.extend({initialize:function(){},render:function(){},events:{}});t.Investments.views.ImportView=e}(App),function(t){var e=t.Investments,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({funds:void 0,accounts:void 0,offerings:void 0,investors:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(t){this.funds=t.funds,this.accounts=t.accounts,this.offerings=t.offerings,this.investors=t.investors,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("investments-table"),sortField:"date",sortOrder:"desc",collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("investments-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("investments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("investments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("investments-create-modal"),funds:this.funds,accounts:this.accounts,offerings:this.offerings,investors:this.investors});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("investments-update-modal"),funds:this.funds,accounts:this.accounts,offerings:this.offerings,investors:this.investors});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("investments-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal",'click [data-action="export"]':"export"},read:function(){var e=this.table.selected;window.location.href=t.url("investments/"+e.id)},openCreateModal:function(){var t=new i({date:new Date}),e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()},export:function(){$.ajax({url:t.url("investments/export"),success:function(t){_.forceDownload(t,"investments.csv","text/csv;encoding:utf-8")}})}});t.Investments.views.Index=u}(App),function(t){var e=t.Investments,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({funds:void 0,accounts:void 0,offerings:void 0,investors:void 0,profile:void 0,transactionsPanel:void 0,statementsPanel:void 0,commentsPanel:void 0,attachmentsPanel:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(t){this.funds=t.funds,this.accounts=t.accounts,this.offerings=t.offerings,this.investors=t.investors,this.initProfile(),this.initTransactions(),this.initStatements(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("investments-read-profile"),model:this.model});this.profile=t},initTransactions:function(){var e=this,n=this.model,i=t.Transactions,o=i.Panel,a=new(0,i.Collection)(n.get("transactions")),s=new o({parent:"Investments",parentId:n.id,el:document.getElementById("investments-transactions-panel"),investment:n,collection:a});s.on("update",function(){n.fetch({success:function(){e.profile.render()}})}),this.transactionsPanel=s},initStatements:function(){var e=this.model,n=t.Statements,i=n.Panel,o=new(0,n.Collection)(e.get("statements")),a=new i({parent:"Investments",parentId:e.id,el:document.getElementById("investments-statements-panel"),collection:o});this.statementsPanel=a},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Investments",parentId:e.id,el:document.getElementById("investments-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Investments",parentId:e.id,el:document.getElementById("investments-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this,e=this.profile,n=new o({el:document.getElementById("investments-update-modal"),funds:this.funds,accounts:this.accounts,offerings:this.offerings,investors:this.investors});n.on("success",function(){var n=t.transactionsPanel.collection;e.render(),n.reset(t.model.get("transactions")),n.trigger("update")}),this.updateModal=n},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("investments-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.transactionsPanel.render(),this.statementsPanel.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Investments.views.Read=s}(App),function(t){var e=t.InvestorsAccounts,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("investors-accounts-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("investors-accounts-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("investors-accounts-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("investors-accounts-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("investors-accounts-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("investors-accounts-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("investors-accounts-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("investors-accounts-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="create"]':"openCreateModal",'click [data-action="read"]':"openReadModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.InvestorsAccounts.Panel=f}(App),function(t){var e=t.InvestorsAccounts.View.extend({initialize:function(){},render:function(){},events:{}});t.InvestorsAccounts.views.ExportView=e}(App),function(t){var e=t.InvestorsAccounts.View.extend({initialize:function(){},render:function(){},events:{}});t.InvestorsAccounts.views.ImportView=e}(App),function(t){var e=t.InvestorsAccounts,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("investors-accounts-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("investors-accounts-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("investors-accounts-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("investors-accounts-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("investors-accounts-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("investors-accounts-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("investors-accounts-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("investors-accounts/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.InvestorsAccounts.views.Index=u}(App),function(t){var e=t.InvestorsAccounts,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("investors-accounts-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"InvestorsAccounts",parentId:e.id,el:document.getElementById("investors-accounts-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"InvestorsAccounts",parentId:e.id,el:document.getElementById("investors-accounts-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("investors-accounts-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("investors-accounts-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.InvestorsAccounts.views.Read=s}(App),function(t){var e=t.Investors,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("investors-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("investors-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("investors-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("investors-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("investors-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("investors-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("investors-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("investors-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="create"]':"openCreateModal",'click [data-action="read"]':"openReadModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Investors.Panel=f}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({parent:"Investors",investor:void 0,parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.investor=t.investor,this.parentId=this.investor.id,this.initTable()},initTable:function(e){var n=this,i=t.Investors.InvestmentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({collection:this.collection,toolbar:o,searchbox:a,pagination:s,el:document.getElementById("investors-investments-table")});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(){n.read()}),this.table=c},initToolbar:function(){var e=new t.Investments.Toolbar({el:document.getElementById("investors-investments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("investors-investments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("investors-investments-table-pagination")});return this.pagination=t,t},render:function(){this.table.render()},reset:function(t){this.investor=t,this.collection.reset(t.get("investments")),this.render()},events:{'click #investors-investments-table-toolbar [data-action="read"]':"read",'click #investors-investments-table-toolbar [data-action="export"]':"export"},read:function(){var e=this.table.selected;e&&(window.location=t.url("investments/"+e.id))},export:function(){var e=this.investor,n=e.id;$.ajax({url:t.url("investments/export"),data:{where:{"account_id IN":_.pluck(e.get("accounts"),"id")}},success:function(t){_.forceDownload(t,"investor-"+n+"-investments.csv","text/csv; charset=UTF-8")}})}});t.Investors.InvestmentsPanel=o}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({investor:void 0,parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable()},initTable:function(e){var n=t.Investors.StatementsTable,i=this.initSearchbox(),o=this.initPagination(),a=new n({el:document.getElementById("investors-statements-table"),collection:this.collection,searchbox:i,pagination:o});a.on("dblclick",function(e){window.open(t.url("statements/view/"+e.id),"_blank").focus()}),this.table=a},initSearchbox:function(){var t=new n({el:document.getElementById("investors-statements-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("investors-statements-table-pagination")});return this.pagination=t,t},render:function(){this.table.render()},reset:function(t){this.investor=t,this.collection.reset(t.get("statements")),this.render()},events:{}});t.Investors.StatementsPanel=o}(App),function(t){var e=t.Table,n=["Pending","Open","Closed"],i=e.extend({emptyMessage:"No investments found",formats:{status:function(t){return t||(t=1),n[t]},"offering.rate":function(t){return t||(t=0),t.toFixed(3)+"%"},date:e.formats.date,amount:e.formats.currency,balance:e.formats.currency}});t.Investors.InvestmentsTable=i}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No statements found",formats:{type:function(){var t=document.createElement("span");return t.className="fa fa-file-pdf-o",t},size:e.formats.size}});t.Investors.StatementsTable=n}(App),function(t){var e=t.Investors.View.extend({initialize:function(){},render:function(){},events:{}});t.Investors.views.ExportView=e}(App),function(t){var e=t.Investors.View.extend({initialize:function(){},render:function(){},events:{}});t.Investors.views.ImportView=e}(App),function(t){var e=t.Investors,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("investors-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("investors-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("investors-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("investors-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("investors-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("investors-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("investors-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal",'click [data-action="export"]':"export"},read:function(){var e=this.table.selected;window.location.href=t.url("investors/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()},export:function(){$.ajax({url:t.url("investors/export"),success:function(t){_.forceDownload(t,"investors.csv","text/csv;encoding:utf-8")}})}});t.Investors.views.Index=u}(App),function(t){var e=t.Investors.View.extend({initialize:function(){},render:function(){},events:{'click [data-action="submit"]':"submit"},submit:function(){}});t.Investors.views.MissingFtpFolders=e}(App),function(t){var e=t.Investors,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,accountsPanel:void 0,investmentsPanel:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initAccounts(),this.initInvestments(),this.initStatements(),this.initComments(),this.initAttachments(),this.initModals(),$("#investors-tab").on("shown.bs.tab",function(t){$(t.relatedTarget.getAttribute("href")).removeClass("active").removeClass("show")})},initProfile:function(){var t=new i({el:document.getElementById("investors-read-profile"),model:this.model});this.profile=t},initAccounts:function(){var e=this.model,n=t.Accounts,i=n.Panel,o=new(0,n.Collection)(e.get("accounts")),a=new i({parent:"Investors",parentId:e.id,el:document.getElementById("investors-accounts-panel"),collection:o});this.accountsPanel=a},initInvestments:function(){var n=this.model,i=new(0,e.InvestmentsPanel)({investor:n,collection:new(0,t.Investments.Collection)(n.get("investments")),el:document.getElementById("investors-investments-panel")});this.investmentsPanel=i},initStatements:function(){var n=this.model,i=e.StatementsPanel,o=new(0,t.Statements.Collection)(n.get("statements")),a=new i({parent:"Investors",parentId:n.id,el:document.getElementById("investors-statements-panel"),collection:o});this.statementsPanel=a},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Investors",parentId:e.id,el:document.getElementById("investors-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Investors",parentId:e.id,el:document.getElementById("investors-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("investors-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("investors-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.accountsPanel.render(),this.investmentsPanel.render(),this.statementsPanel.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Investors.views.Read=s}(App),function(t){var e=t.Offerings,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({fund:void 0,parent:"Funds",parentId:void 0,initialize:function(t){this.fund=t.fund,this.parentId=this.fund.id,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("offerings-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("offerings-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("offerings-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("offerings-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("offerings-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("offerings-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("offerings-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("offerings-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click #offerings-table-toolbar [data-action="create"]':"openCreateModal",'click #offerings-table-toolbar [data-action="read"]':"openReadModal",'click #offerings-table-toolbar [data-action="update"]':"openUpdateModal",'click #offerings-table-toolbar [data-action="delete"]':"openDeleteModal",'click #offerings-table-toolbar [data-action="export"]':"export"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("fund_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()},export:function(){var e=this.parentId;$.ajax({url:t.url("offerings/export"),data:{where:{fund_id:e}},success:function(t){_.forceDownload(t,"fund-"+e+"-offerings.csv","text/csv; charset=UTF-8")}})}});t.Offerings.Panel=f}(App),function(t){var e=t.View,n=(t.Toolbar,t.Searchbox),i=t.Pagination,o=e.extend({offering:void 0,parent:"Offerings",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.modal=t.modal,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(e){var n=this,i=t.Offerings.AttachmentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({el:document.getElementById("offerings-attachments-table"),toolbar:o,searchbox:a,pagination:s,collection:this.collection});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(t){t&&n.download()}),this.table=c},initToolbar:function(){var e=new t.Attachments.Toolbar({el:document.getElementById("offerings-attachments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("offerings-attachments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("offerings-attachments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var e=this,n=new t.Attachments.CreateModal({el:document.getElementById("offerings-attachments-create-modal"),formId:"offerings-attachments-create-form",alertElement:"offerings-attachments-create-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.add(t),e.offering.set("attachments",e.collection.toJSON()),n.swap(e.modal)}),this.createModal=n},initUpdateModal:function(){var e=this,n=new t.Attachments.UpdateModal({el:document.getElementById("offerings-attachments-update-modal"),formId:"offerings-attachments-update-form",alertElement:"offerings-attachments-update-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.trigger("update"),e.offering.set("attachments",e.collection.toJSON()),n.swap(e.modal)}),this.updateModal=n},initDeleteModal:function(){var e=this,n=this.collection,i=new t.Attachments.DeleteModal({el:document.getElementById("offerings-attachments-delete-modal"),profileId:"offerings-attachments-delete-profile",alertElement:"offerings-attachments-delete-modal-alert"});i.on("cancel",function(){i.swap(e.modal)}),i.on("success",function(t){e.offering.set("attachments",n.toJSON()),i.swap(e.modal)}),this.deleteModal=i},render:function(){this.table.render()},reset:function(t){this.offering=t,this.parentId=t.id,this.collection.reset(t.get("attachments")),this.render()},events:{'click #offerings-attachments-table-toolbar > [data-action="download"]':"download",'click #offerings-attachments-table-toolbar > [data-action="create"]':"openCreateModal",'click #offerings-attachments-table-toolbar > [data-action="update"]':"openUpdateModal",'click #offerings-attachments-table-toolbar > [data-action="delete"]':"openDeleteModal"},download:function(){var e=this.table.selected;window.location=t.url("attachments/download/"+e.id)},openCreateModal:function(){var e=new t.Attachments.Model,n=this.createModal;e.set("parent",this.parent),e.set("parent_id",this.parentId),n.reset(e),this.modal.swap(n)},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),this.modal.swap(e)},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),this.modal.swap(e)}});t.Offerings.AttachmentsPanel=o}(App),function(t){var e=t.View,n=(t.Toolbar,t.Searchbox),i=t.Pagination,o=e.extend({offering:void 0,parent:"Offerings",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.modal=t.modal,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(e){var n=this,i=t.Offerings.CommentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({el:document.getElementById("offerings-comments-table"),toolbar:o,searchbox:a,pagination:s,collection:this.collection});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(t){t&&n.openUpdateModal()}),this.table=c},initToolbar:function(){var e=new t.Comments.Toolbar({el:document.getElementById("offerings-comments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("offerings-comments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("offerings-comments-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var e=this,n=new t.Comments.CreateModal({el:document.getElementById("offerings-comments-create-modal"),formId:"offerings-comments-create-form",alertElement:"offerings-comments-create-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.add(t),e.offering.set("comments",e.collection.toJSON()),n.swap(e.modal)}),this.createModal=n},initUpdateModal:function(){var e=this,n=new t.Comments.UpdateModal({el:document.getElementById("offerings-comments-update-modal"),formId:"offerings-comments-update-form",alertElement:"offerings-comments-update-modal-alert"});n.on("cancel",function(){n.swap(e.modal)}),n.on("success",function(t){e.collection.trigger("update"),e.offering.set("comments",e.collection.toJSON()),n.swap(e.modal)}),this.updateModal=n},initDeleteModal:function(){var e=this,n=this.collection,i=new t.Comments.DeleteModal({el:document.getElementById("offerings-comments-delete-modal"),profileId:"offerings-comments-delete-profile",alertElement:"offerings-comments-delete-modal-alert"});i.on("cancel",function(){i.swap(e.modal)}),i.on("success",function(t){e.offering.set("comments",n.toJSON()),i.swap(e.modal)}),this.deleteModal=i},render:function(){this.table.render()},reset:function(t){this.offering=t,this.parentId=t.id,this.collection.reset(t.get("comments")),this.render()},events:{'click #offerings-comments-table-toolbar > [data-action="create"]':"openCreateModal",'click #offerings-comments-table-toolbar > [data-action="read"]':"openReadModal",'click #offerings-comments-table-toolbar > [data-action="update"]':"openUpdateModal",'click #offerings-comments-table-toolbar > [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var e=new t.Comments.Model,n=this.createModal;e.set("parent",this.parent),e.set("parent_id",this.parentId),n.reset(e),this.modal.swap(n)},openReadModal:function(){},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),this.modal.swap(e)},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),this.modal.swap(e)}});t.Offerings.CommentsPanel=o}(App),function(t){var e=t.View,n=t.Searchbox,i=t.Pagination,o=e.extend({offering:void 0,parent:"Offerings",parentId:void 0,table:void 0,toolbar:void 0,searchbox:void 0,pagination:void 0,initialize:function(t){this.initTable()},initTable:function(e){var n=this,i=t.Offerings.InvestmentsTable,o=this.initToolbar(),a=this.initSearchbox(),s=this.initPagination(),c=new i({collection:this.collection,toolbar:o,searchbox:a,pagination:s,el:document.getElementById("offerings-investments-table")});c.on("empty",function(){o.reset(void 0)}),c.on("select",function(t){o.reset(t)}),c.on("deselect",function(){o.reset(void 0)}),c.on("dblclick",function(t){n.read()}),this.table=c},initToolbar:function(){var e=new t.Investments.Toolbar({el:document.getElementById("offerings-investments-table-toolbar")});return this.toolbar=e,e},initSearchbox:function(){var t=new n({el:document.getElementById("offerings-investments-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new i({el:document.getElementById("offerings-investments-table-pagination")});return this.pagination=t,t},render:function(){this.table.render()},reset:function(t){this.offering=t,this.parentId=t.id,this.collection.reset(t.get("investments")),this.render()},events:{'click #offerings-investments-table-toolbar [data-action="read"]':"read",'click #offerings-investments-table-toolbar [data-action="export"]':"export"},read:function(){var e=this.table.selected;e&&(window.location=t.url("investments/"+e.id))},export:function(){$.ajax({url:t.url("investments/export"),data:{where:{offering_id:this.parentId}},success:function(t){_.forceDownload(t,"investments.csv","text/csv; charset=UTF-8")}})}});t.Offerings.InvestmentsPanel=o}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No attachments found",formats:{mime:e.formats.mime,size:e.formats.size,created:e.formats.date,modified:e.formats.date,created_by:e.formats.createdBy}});t.Offerings.AttachmentsTable=n}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No comments found",formats:{created:e.formats.date,modified:e.formats.date,created_by:e.formats.createdBy}});t.Offerings.CommentsTable=n}(App),function(t){var e=t.Table,n=e.extend({emptyMessage:"No investments found",formats:{balance:e.formats.currency,created:e.formats.date,modified:e.formats.date}});t.Offerings.InvestmentsTable=n}(App),function(t){var e=t.Offerings.View.extend({initialize:function(){},render:function(){},events:{}});t.Offerings.views.ExportView=e}(App),function(t){var e=t.Offerings.View.extend({initialize:function(){},render:function(){},events:{}});t.Offerings.views.ImportView=e}(App),function(t){var e=t.Offerings,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("offerings-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("offerings-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("offerings-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("offerings-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("offerings-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("offerings-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("offerings-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("offerings/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Offerings.views.Index=u}(App),function(t){var e=t.Offerings,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("offerings-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Offerings",parentId:e.id,el:document.getElementById("offerings-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Offerings",parentId:e.id,el:document.getElementById("offerings-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("offerings-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("offerings-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Offerings.views.Read=s}(App),function(t){var e=t.Statements,n=e.View,i=(e.Model,e.Table),o=e.Toolbar,a=t.Searchbox,s=t.Pagination,c=e.SyncModal,l=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),o=this.initPagination(),a=new i({el:document.getElementById("statements-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:o,sortField:"date",sortOrder:"desc"});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new o({el:document.getElementById("statements-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new a({el:document.getElementById("statements-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new s({el:document.getElementById("statements-table-pagination")});return this.pagination=t,t},initModals:function(){this.initSyncModal()},initSyncModal:function(){var t=new c({el:document.getElementById("statements-sync-modal")});this.syncModal=t},render:function(){this.table.render()},events:{'click #statements-table-toolbar [data-action="sync"]':"openSyncModal",'click #statements-table-toolbar [data-action="download"]':"download"},download:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openSyncModal:function(){this.syncModal.open()}});t.Statements.Panel=l}(App),function(t){var e=t.Statements.View.extend({initialize:function(){},render:function(){},events:{}});t.Statements.views.ExportView=e}(App),function(t){var e=t.Statements.View.extend({initialize:function(){},render:function(){},events:{}});t.Statements.views.ImportView=e}(App),function(t){var e=t.Statements,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("statements-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("statements-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("statements-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("statements-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("statements-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("statements-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("statements-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("statements/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Statements.views.Index=u}(App),function(t){var e=t.Statements,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("statements-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Statements",parentId:e.id,el:document.getElementById("statements-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Statements",parentId:e.id,el:document.getElementById("statements-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("statements-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("statements-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Statements.views.Read=s}(App),function(t){var e=t.Transactions,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,investment:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.investment=t.investment,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("transactions-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i,sortField:"date",sortOrder:"asc"});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("transactions-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("transactions-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("transactions-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this,e=this.collection,n=new d({investment:this.investment,el:document.getElementById("transactions-create-modal")});n.on("success",function(n){e.add(n),t.trigger("update")}),this.createModal=n},initReadModal:function(){var t=this,e=new l({el:document.getElementById("transactions-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this,e=this.collection,n=new r({el:document.getElementById("transactions-update-modal")});n.on("success",function(){e.trigger("update",e,{}),t.trigger("update")}),this.updateModal=n},initDeleteModal:function(){var t=this,e=this.collection,n=new u({el:document.getElementById("transactions-delete-modal")});n.on("success",function(n){e.remove(n),t.trigger("update")}),this.deleteModal=n},render:function(){this.table.render()},events:{'click #transactions-table-toolbar [data-action="create"]':"openCreateModal",'click #transactions-table-toolbar [data-action="read"]':"openReadModal",'click #transactions-table-toolbar [data-action="update"]':"openUpdateModal",'click #transactions-table-toolbar [data-action="delete"]':"openDeleteModal",'click #transactions-table-toolbar [data-action="export"]':"export"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("date",new Date),t.set("max_amount",this.investment.get("balance")),t.set("investment_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;t.set("max_amount",this.investment.get("balance")+t.get("amount")),e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()},export:function(){var e=this.parentId;$.ajax({url:t.url("transactions/export"),data:{where:{investment_id:e}},success:function(t){_.forceDownload(t,"investment-"+e+"-transactions.csv","text/csv;encoding:utf-8")}})}});t.Transactions.Panel=f}(App),function(t){var e=t.Transactions.View.extend({initialize:function(){},render:function(){},events:{}});t.Transactions.views.ExportView=e}(App),function(t){var e=t.Transactions.View.extend({initialize:function(){},render:function(){},events:{}});t.Transactions.views.ImportView=e}(App),function(t){var e=t.Transactions,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.CreateModal,d=e.UpdateModal,r=e.DeleteModal,u=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("transactions-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("empty",function(){e.reset(void 0)}),a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("transactions-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("transactions-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("transactions-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new l({el:document.getElementById("transactions-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new d({el:document.getElementById("transactions-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new r({el:document.getElementById("transactions-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="read"]':"read",'click [data-action="create"]':"openCreateModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},read:function(){var e=this.table.selected;window.location.href=t.url("transactions/"+e.id)},openCreateModal:function(){var t=new i,e=this.createModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Transactions.views.Index=u}(App),function(t){var e=t.Transactions,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile(),this.initComments(),this.initAttachments(),this.initModals()},initProfile:function(){var t=new i({el:document.getElementById("transactions-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Transactions",parentId:e.id,el:document.getElementById("transactions-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Transactions",parentId:e.id,el:document.getElementById("transactions-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("transactions-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("transactions-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render(),this.commentsPanel.render(),this.attachmentsPanel.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Transactions.views.Read=s}(App),function(t){var e=t.Users,n=e.View,i=e.Model,o=e.Table,a=e.Toolbar,s=t.Searchbox,c=t.Pagination,l=e.ReadModal,d=e.CreateModal,r=e.UpdateModal,u=e.DeleteModal,f=n.extend({parent:void 0,parentId:void 0,initialize:function(t){this.parent=t.parent,this.parentId=t.parentId,this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),i=this.initPagination(),a=new o({el:document.getElementById("users-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:i});a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){e&&t.openReadModal(e)}),this.table=a},initToolbar:function(){var t=new a({el:document.getElementById("users-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new s({el:document.getElementById("users-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new c({el:document.getElementById("users-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initReadModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new d({el:document.getElementById("users-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initReadModal:function(){var t=this,e=new l({el:document.getElementById("users-read-modal")});e.on("update",function(e){t.openUpdateModal(e)}),this.readModal=e},initUpdateModal:function(){var t=this.collection,e=new r({el:document.getElementById("users-update-modal")});e.on("success",function(){t.trigger("update",t,{})}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new u({el:document.getElementById("users-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="create"]':"openCreateModal",'click [data-action="read"]':"openReadModal",'click [data-action="update"]':"openUpdateModal",'click [data-action="delete"]':"openDeleteModal"},openCreateModal:function(){var t=new i,e=this.createModal;t.set("parent",this.parent),t.set("parent_id",this.parentId),e.reset(t),e.open()},openReadModal:function(){var t=this.table.selected,e=this.readModal;e.reset(t),e.open()},openUpdateModal:function(){var t=this.table.selected,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.table.selected,e=this.deleteModal;e.reset(t),e.open()}});t.Users.Panel=f}(App),function(t){var e=t.Users,n=e.View,i=e.CreateForm,o=n.extend({alertElement:"users-create-form-alert",initialize:function(){this.initElement(),this.initModel(),this.initForm()},initElement:function(){var t=this.$el.find('[data-action="submit"]');this.$submit=t,this.$submitIcon=t.find(".fa")},initModel:function(){this.model.validate=function(t){return t.username?t.password?t.password2?t.password!==t.password2?"The passwords you entered do not match":void 0:"Please confirm your password":"Please provide a password":"Please provide an email address"}},initForm:function(){var t=new i({model:this.model,el:document.getElementById("users-create-form")});this.form=t},render:function(){},events:{'click [data-action="submit"]':"submit"},submit:function(){function e(e){i("off"),o.loading(!1),window.location=t.url("verify-email-sent/"+c.get("token"))}function n(t){i("off"),o.loading(!1),s.set(t)}function i(t){a[t]("success",e),a[t]("error",n)}var o=this,a=this.form,s=this.alert,c=this.model;i("on"),this.loading(!0),s.clear(),a.submit()},loadingStateOn:function(){this.$submitIcon.removeClass("fa-user-plus"),this.$submitIcon.addClass("fa-spinner fa-pulse")},loadingStateOff:function(){this.$submitIcon.removeClass("fa-spinner fa-pulse"),this.$submitIcon.addClass("fa-user-plus")}});t.Users.views.Create=o}(App),function(t){var e=t.Users.View.extend({alertElement:"users-forgot-password-form-alert",initialize:function(){},render:function(){},events:{'click #users-forgot-password-form [data-action="submit"]':"submit"},submit:function(){if(!this.isLoading()){var e=this,n=this.model;this.loading(!0),$.ajax({url:t.url("verify-email-resend/"+n.get("token")+".json"),complete:function(){e.loading(!0)}})}}});t.Users.views.ForgotPassword=e}(App),function(t){var e=t.Users,n=e.View,i=(e.Model,e.Table),o=e.Toolbar,a=t.Searchbox,s=t.Pagination,c=e.CreateModal,l=e.UpdateModal,d=e.DeleteModal,r=n.extend({table:void 0,createModal:void 0,updateModal:void 0,deleteModal:void 0,initialize:function(){this.initTable(),this.initModals()},initTable:function(){var t=this,e=this.initToolbar(),n=this.initSearchbox(),o=this.initPagination(),a=new i({el:document.getElementById("users-table"),collection:this.collection,toolbar:e,searchbox:n,pagination:o});a.on("select",function(t){e.reset(t)}),a.on("deselect",function(){e.reset(void 0)}),a.on("dblclick",function(e){t.read(e.id)}),this.table=a},initToolbar:function(){var t=new o({el:document.getElementById("users-table-toolbar")});return this.toolbar=t,t},initSearchbox:function(){var t=new a({el:document.getElementById("users-table-searchbox")});return this.searchbox=t,t},initPagination:function(){var t=new s({el:document.getElementById("users-table-pagination")});return this.pagination=t,t},initModals:function(){this.initCreateModal(),this.initUpdateModal(),this.initDeleteModal()},initCreateModal:function(){var t=this.collection,e=new c({el:document.getElementById("users-create-modal")});e.on("success",function(e){t.add(e)}),this.createModal=e},initUpdateModal:function(){var t=this.collection,e=new l({el:document.getElementById("users-update-modal")});e.on("success",function(e){t.trigger("update")}),this.updateModal=e},initDeleteModal:function(){var t=this.collection,e=new d({el:document.getElementById("users-delete-modal")});e.on("success",function(e){t.remove(e)}),this.deleteModal=e},render:function(){this.table.render()},events:{'click [data-action="reset-password"]':"openResetPasswordModal",'click [data-action="change-role"]':"openChangeRoleModal",'click [data-action="lock"]':"openLockModal",'click [data-action="unlock"]':"openUnlockModal"},openResetPasswordModal:function(){},openChangeRoleModal:function(){},openLockModal:function(){},openUnlockModal:function(){}});t.Users.views.Index=r}(App),function(t){var e=t.Users,n=e.View,i=(e.Model,e.LoginForm),o=n.extend({form:void 0,alertElement:"users-login-form-alert",initialize:function(){this.initForm()},initForm:function(){var t=new i({el:document.getElementById("users-login-form"),model:this.model});this.form=t},render:function(){this.form.render()},events:{'click [data-action="submit"]':"submit"},submit:function(){function e(e){i("off"),o.loading(!1),window.location=t.url()}function n(t){i("off"),o.loading(!1),s.set(t)}function i(t){a[t]("success",e),a[t]("error",n)}var o=this,a=this.form,s=this.alert;i("on"),this.loading(!0),s.clear(),a.submit()}});t.Users.views.Login=o}(App),function(t){var e=t.Users,n=e.View,i=(e.Model,e.ReadProfile),o=e.UpdateModal,a=e.DeleteModal,s=n.extend({profile:void 0,commentsPanel:void 0,attachmentsPanel:void 0,initialize:function(){this.initProfile()},initProfile:function(){var t=new i({el:document.getElementById("users-read-profile"),model:this.model});this.profile=t},initComments:function(){var e=this.model,n=t.Comments,i=n.Panel,o=new(0,n.Collection)(e.get("comments")),a=new i({parent:"Users",parentId:e.id,el:document.getElementById("users-comments-panel"),collection:o});this.commentsPanel=a},initAttachments:function(){var e=this.model,n=t.Attachments,i=n.Panel,o=new(0,n.Collection)(e.get("attachments")),a=new i({parent:"Users",parentId:e.id,el:document.getElementById("users-attachments-panel"),collection:o});this.attachmentsPanel=a},initModals:function(){this.initUpdateModal(),this.initDeleteModal()},initUpdateModal:function(){var t=this.profile,e=new o({el:document.getElementById("users-update-modal"),model:this.model});e.on("success",function(){t.render()}),this.updateModal=e},initDeleteModal:function(){this.profile;var e=new a({el:document.getElementById("users-delete-modal"),model:this.model});e.on("success",function(e){window.location=t.url(e.urlRoot)}),this.deleteModal=e},render:function(){this.profile.render()},events:{'click .sidebar [data-action="update"]':"openUpdateModal",'click .sidebar [data-action="delete"]':"openDeleteModal"},openUpdateModal:function(){var t=this.model,e=this.updateModal;e.reset(t),e.open()},openDeleteModal:function(){var t=this.model,e=this.deleteModal;e.reset(t),e.open()}});t.Users.views.Read=s}(App),function(t){var e=t.Users.View.extend({initialize:function(){},render:function(){},events:{}});t.Users.views.ResetPassword=e}(App),function(t){var e=t.Users.View.extend({initialize:function(){this.$resend=this.$el.find('[data-action="resend"]')},render:function(){},events:{'click [data-action="resend"]':"resend"},resend:function(){if(!this.isLoading()){var e=this,n=this.model;this.loading(!0),$.ajax({url:t.url("verify-email-resend/"+n.get("token")+".json"),complete:function(){e.loading(!1)}})}},loadingStateOn:function(){var t=document.createElement("span");t.className="fa fa-spinner fa-pulse",this.$resend.prepend(t)},loadingStateOff:function(){this.$resend.find(".fa").remove()}});t.Users.views.VerifyEmailSent=e}(App),function(t){var e=t.Users.View.extend({initialize:function(){},render:function(){},events:{'click [data-action="resend"]':"resendRegistrationEmail",'click #users-update-password-form [data-action="submit"]':"sumbitUpdatePassword"},resendRegistrationEmail:function(){},sumbitUpdatePassword:function(){}});t.Users.views.VerifyEmail=e}(App);