/*
 |------------------------------------------------------------------------
 | App: Model
 |------------------------------------------------------------------------
 */

(function(App, Backbone){
    
    /*
     |--------------------------------------------------------------------
     | Constructor
     |--------------------------------------------------------------------
     */
    
    var Model = Backbone.Model.extend({
        
        urlRoot: undefined,
        serverNode: undefined,
        
        /*
         |----------------------------------------------------------------
         | Url
         |----------------------------------------------------------------
         */
        
        url: function (path, query) {
            path = path ? this.urlRoot + '/' + path : this.urlRoot;
            return App.url(path, query);
        },
        
        /*
         |----------------------------------------------------------------
         | Format
         |----------------------------------------------------------------
         */
        
        format: function (attribute) {
            var value = this.get(attribute);
            var formatter = this.formats[attribute];
            if (formatter) {
                value = formatter(value, this);
            }
            return value;
        },
        
        /*
         |----------------------------------------------------------------
         | Format
         |----------------------------------------------------------------
         */
        
        formats: {
            
        },
        
        /*
         |----------------------------------------------------------------
         | Validate
         |----------------------------------------------------------------
         */
        
        validate: function () {
            
        },
        
        /*
         |----------------------------------------------------------------
         | Prepare
         |----------------------------------------------------------------
         */
        
        prepare: function () {
            return this.attributes;
        },
        
    });
    
    App.Model = Model;
    
}(App, Backbone));
